!function(e,t){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,i=!1,s=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?s=!1:t[4]&&(i=parseInt(t[4])<18);var r={};r.pluginBuilder="./css-builder";var n,o=function(){n=document.createElement("style"),e.appendChild(n)},a=function(e,t){o();var i=n.styleSheet||n.sheet;if(i&&i.addImport)i.addImport(e),n.onload=t;else{n.textContent='@import "'+e+'";';var s=setInterval(function(){try{n.sheet.cssRules,clearInterval(s),t()}catch(e){}},10)}},l=function(t,i){var r=document.createElement("link");if(r.type="text/css",r.rel="stylesheet",s)r.onload=function(){r.onload=function(){},setTimeout(i,7)};else var n=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==r.href)return clearInterval(n),i()}},10);r.href=t,e.appendChild(r)};return r.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},r.load=function(e,t,s,r){(i?a:l)(t.toUrl(e+".css"),s)},r}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(i,s){"object"==typeof e?t.exports=s(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],s):i.URI=s(i.punycode,i.IPv6,i.SecondLevelDomains,i)}(this,function(e,t,i,s){"use strict";function r(e,t){return this instanceof r?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new r(e,t)}function n(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function l(e,t){var i={},s,r;if(a(t))for(s=0,r=t.length;s<r;s++)i[t[s]]=!0;else i[t]=!0;for(s=0,r=e.length;s<r;s++)void 0!==i[e[s]]&&(e.splice(s,1),r--,s--);return e}function u(e,t){var i,s;if(a(t)){for(i=0,s=t.length;i<s;i++)if(!u(e,t[i]))return!1;return!0}var r=o(t);for(i=0,s=e.length;i<s;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function c(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,s=e.length;i<s;i++)if(e[i]!==t[i])return!1;return!0}function h(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,h).replace(/\*/g,"%2A")}var p=s&&s.URI;r.version="1.12.0";var f=r.prototype,d=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return r.domAttributes[t]}},r.encode=m,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=m,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},r.encodeQuery=function(e,t){var i=r.encode(e+"");return t?i.replace(/%20/g,"+"):i},r.decodeQuery=function(e,t){e+="";try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}},r.recodePath=function(e){for(var t=(e+"").split("/"),i=0,s=t.length;i<s;i++)t[i]=r.encodePathSegment(r.decode(t[i]));return t.join("/")},r.decodePath=function(e){for(var t=(e+"").split("/"),i=0,s=t.length;i<s;i++)t[i]=r.decodePathSegment(t[i]);return t.join("/")};var g={encode:"encode",decode:"decode"},v,y=function(e,t){return function(i){return r[t](i+"").replace(r.characters[e][t].expression,function(i){return r.characters[e][t].map[i]})}};for(v in g)r[v+"PathSegment"]=y("pathname",g[v]);r.encodeReserved=y("reserved","encode"),r.parse=function(e,t){var i;return t||(t={}),i=e.indexOf("#"),i>-1&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),i=e.indexOf("?"),i>-1&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(i=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=r.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},r.parseHost=function(e,t){var i=e.indexOf("/"),s,r;return-1===i&&(i=e.length),"["===e.charAt(0)?(s=e.indexOf("]"),t.hostname=e.substring(1,s)||null,t.port=e.substring(s+2,i)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null),t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var i=e.indexOf("/"),s=i>-1?e.lastIndexOf("@",i):e.indexOf("@"),n;return s>-1&&(-1===i||s<i)?(n=e.substring(0,s).split(":"),t.username=n[0]?r.decode(n[0]):null,n.shift(),t.password=n[0]?r.decode(n.join(":")):null,e=e.substring(s+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i={},s=e.split("&"),n=s.length,o,a,l,u=0;u<n;u++)o=s[u].split("="),a=r.decodeQuery(o.shift(),t),l=o.length?r.decodeQuery(o.join("="),t):null,i[a]?("string"==typeof i[a]&&(i[a]=[i[a]]),i[a].push(l)):i[a]=l;return i},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(r.ip6_expression.test(e.hostname)?e.port?t+="["+e.hostname+"]:"+e.port:t+=e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username),e.password&&(t+=":"+r.encode(e.password)),t+="@"),t},r.buildQuery=function(e,t,i){var s="",n,o,l,u;for(o in e)if(d.call(e,o)&&o)if(a(e[o]))for(n={},l=0,u=e[o].length;l<u;l++)void 0!==e[o][l]&&void 0===n[e[o][l]+""]&&(s+="&"+r.buildQueryParameter(o,e[o][l],i),!0!==t&&(n[e[o][l]+""]=!0));else void 0!==e[o]&&(s+="&"+r.buildQueryParameter(o,e[o],i));return s.substring(1)},r.buildQueryParameter=function(e,t,i){return r.encodeQuery(e,i)+(null!==t?"="+r.encodeQuery(t,i):"")},r.addQuery=function(e,t,i){if("object"==typeof t)for(var s in t)d.call(t,s)&&r.addQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=i);"string"==typeof e[t]&&(e[t]=[e[t]]),a(i)||(i=[i]),e[t]=e[t].concat(i)}},r.removeQuery=function(e,t,i){var s,n,o;if(a(t))for(s=0,n=t.length;s<n;s++)e[t[s]]=void 0;else if("object"==typeof t)for(o in t)d.call(t,o)&&r.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==i?e[t]===i?e[t]=void 0:a(e[t])&&(e[t]=l(e[t],i)):e[t]=void 0}},r.hasQuery=function(e,t,i,s){if("object"==typeof t){for(var n in t)if(d.call(t,n)&&!r.hasQuery(e,n,t[n]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(i)){case"Undefined":return t in e;case"Boolean":return i===Boolean(a(e[t])?e[t].length:e[t]);case"Function":return!!i(e[t],t,e);case"Array":if(!a(e[t]))return!1;return(s?u:c)(e[t],i);case"RegExp":return a(e[t])?!!s&&u(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return a(e[t])?!!s&&u(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.commonPath=function(e,t){var i=Math.min(e.length,t.length),s;for(s=0;s<i;s++)if(e.charAt(s)!==t.charAt(s)){s--;break}return s<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(s)&&"/"===t.charAt(s)||(s=e.substring(0,s).lastIndexOf("/")),e.substring(0,s+1))},r.withinString=function(e,t,i){i||(i={});var s=i.start||r.findUri.start,n=i.end||r.findUri.end,o=i.trim||r.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var l=s.exec(e);if(!l)break;var u=l.index;if(i.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&a.test(c))continue}var h=u+e.slice(u).search(n),m=e.slice(u,h).replace(o,"");if(!i.ignore||!i.ignore.test(m)){h=u+m.length;var p=t(m,u,h,e);e=e.slice(0,u)+p+e.slice(h),s.lastIndex=u+p.length}}return s.lastIndex=0,e},r.ensureValidHostname=function(t){if(t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},r.noConflict=function(e){if(e){var i={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(i.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(i.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(i.SecondLevelDomains=SecondLevelDomains.noConflict()),i}return s.URI===this&&(s.URI=p),this},f.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new r(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}};for(v in g)f[v]=y(g[v]);g={query:"?",fragment:"#"},y=function(e,t){return function(i,s){return void 0===i?this._parts[e]||"":(null!==i&&(i+="",i.charAt(0)===t&&(i=i.substring(1))),this._parts[e]=i,this.build(!s),this)}};for(v in g)f[v]=y(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},y=function(e,t){return function(i,s){var r=this[e](i,s);return"string"==typeof r&&r.length?t+r:r}};for(v in g)f[v]=y(g[v][1],g[v][0]);f.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?r.decodePath(i):i}return this._parts.path=e?r.recodePath(e):"/",this.build(!t),this},f.path=f.pathname,f.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=r._parts();var s=e instanceof r,n="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[r.getDomAttribute(e)]||"",n=!1}if(!s&&n&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=r.parse(e,this._parts);else{if(!s&&!n)throw new TypeError("invalid input");var o=s?e._parts:e;for(i in o)d.call(this._parts,i)&&(this._parts[i]=o[i])}return this.build(!t),this},f.is=function(e){var t=!1,s=!1,n=!1,o=!1,a=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,s=r.ip4_expression.test(this._parts.hostname),n=r.ip6_expression.test(this._parts.hostname),t=s||n,o=!t,a=o&&i&&i.has(this._parts.hostname),l=o&&r.idn_expression.test(this._parts.hostname),u=o&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return n;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=f.protocol,w=f.port,_=f.hostname;f.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(r.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},f.scheme=f.protocol,f.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return w.call(this,e,t)},f.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};r.parseHost(e,i),e=i.hostname}return _.call(this,e,t)},f.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildHost(this._parts):"":(r.parseHost(e,this._parts),this.build(!t),this)},f.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildAuthority(this._parts):"":(r.parseAuthority(e,this._parts),this.build(!t),this)},f.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var i=r.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},f.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=r.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},f.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var s=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,s),a=new RegExp("^"+n(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&r.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},f.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(t).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!e)throw new TypeError("cannot set domain empty");if(r.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(n(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},f.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(s+1);return!0!==t&&i&&i.list[r.toLowerCase()]?i.get(this._parts.hostname)||r:r}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},f.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?r.decodePath(s):s}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),l=new RegExp("^"+n(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},f.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(i+1);return e?r.decodePathSegment(s):s}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(n(this.filename())+"$");return e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},f.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),s=i.lastIndexOf("."),o,a;return-1===s?"":(o=i.substring(s+1),a=/^[a-z0-9%]+$/i.test(o)?o:"",e?r.decodePathSegment(a):a)}"."===e.charAt(0)&&(e=e.substring(1));var l=this.suffix(),u;if(l)u=e?new RegExp(n(l)+"$"):new RegExp(n("."+l)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return u&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},f.segment=function(e,t,i){var s=this._parts.urn?":":"/",r=this.path(),n="/"===r.substring(0,1),o=r.split(s);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(n&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t)){o=[];for(var l=0,u=t.length;l<u;l++)(t[l].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[l]))}else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t||"string"==typeof t&&t.length?o[e]=t:o.splice(e,1);return n&&o.unshift(""),this.path(o.join(s),i)},f.segmentCoded=function(e,t,i){var s,n,o;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(s=this.segment(e,t,i),a(s))for(n=0,o=s.length;n<o;n++)s[n]=r.decode(s[n]);else s=void 0!==s?r.decode(s):void 0;return s}if(a(t))for(n=0,o=t.length;n<o;n++)t[n]=r.decode(t[n]);else t="string"==typeof t?r.encode(t):t;return this.segment(e,t,i)};var x=f.query;return f.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=e.call(this,i);return this._parts.query=r.buildQuery(s||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},f.setQuery=function(e,t,i){var s=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var n in e)d.call(e,n)&&(s[n]=e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");s[e]=void 0!==t?t:null}return this._parts.query=r.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.addQuery=function(e,t,i){var s=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(s,e,void 0===t?null:t),this._parts.query=r.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.removeQuery=function(e,t,i){var s=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(s,e,t),this._parts.query=r.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.hasQuery=function(e,t,i){var s=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(s,e,t,i)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},f.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},f.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},f.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,i=this._parts.path,s="",n,o;for("/"!==i.charAt(0)&&(t=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=i.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);;){if(-1===(n=i.indexOf("/..")))break;0!==n?(o=i.substring(0,n).lastIndexOf("/"),-1===o&&(o=n),i=i.substring(0,o)+i.substring(n+3)):i=i.substring(3)}return t&&this.is("relative")&&(i=s+i.substring(1)),i=r.recodePath(i),this._parts.path=i,this.build(!e),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},f.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var e=r.encode,t=r.decode;return r.encode=escape,r.decode=decodeURIComponent,this.normalize(),r.encode=e,r.decode=t,this},f.unicode=function(){var e=r.encode,t=r.decode;return r.encode=m,r.decode=unescape,this.normalize(),r.encode=e,r.decode=t,this},f.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(i+=e.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(i+="/"),i+=t.path(!0),t._parts.query){for(var s="",n=0,o=t._parts.query.split("&"),a=o.length;n<a;n++){var l=(o[n]||"").split("=");s+="&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(s+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+s.substring(1)}return i+=r.decodeQuery(t.hash(),!0)},f.absoluteTo=function(e){var t=this.clone(),i=["protocol","username","password","hostname","port"],s,n,o;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol),this._parts.hostname)return t;for(n=0;o=i[n];n++)t._parts[o]=e._parts[o];return t._parts.path?".."===t._parts.path.substring(-2)&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query)),"/"!==t.path().charAt(0)&&(s=e.directory(),t._parts.path=(s?s+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},f.relativeTo=function(e){var t=this.clone().normalize(),i,s,n,o,a;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),i=t._parts,s=e._parts,o=t.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(i.protocol===s.protocol&&(i.protocol=null),i.username!==s.username||i.password!==s.password)return t.build();if(null!==i.protocol||null!==i.username||null!==i.password)return t.build();if(i.hostname!==s.hostname||i.port!==s.port)return t.build();if(i.hostname=null,i.port=null,o===a)return i.path="",t.build();if(!(n=r.commonPath(t.path(),e.path())))return t.build();var l=s.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return i.path=l+i.path.substring(n.length),t.build()},f.equals=function(e){var t=this.clone(),i=new r(e),s={},n={},o={},l,u,h;if(t.normalize(),i.normalize(),t.toString()===i.toString())return!0;if(l=t.query(),u=i.query(),t.query(""),i.query(""),t.toString()!==i.toString())return!1;if(l.length!==u.length)return!1;s=r.parseQuery(l,this._parts.escapeQuerySpace),n=r.parseQuery(u,this._parts.escapeQuerySpace);for(h in s)if(d.call(s,h)){if(a(s[h])){if(!c(s[h],n[h]))return!1}else if(s[h]!==n[h])return!1;o[h]=!0}for(h in n)if(d.call(n,h)&&!o[h])return!1;return!0},f.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},f.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r}),sumo.define("color",[],function(){return{lightOrDark:function(e){var t,i,s,r;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],s=e[2],i=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,s=e>>8&255,i=255&e),r=Math.sqrt(t*t*.299+s*s*.587+i*i*.114),r>127.5?"light":"dark"},whiteOrBlack:function(e){return"light"==this.lightOrDark(e)?"black":"white"},shadeColor:function(e,t){e=e.toString();var i=parseInt(e.slice(1),16),s=Math.round(2.55*t),r=(i>>16)+s,n=(i>>8&255)+s,o=(255&i)+s;return"#"+(16777216+65536*(r<255?r<1?0:r:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},RGBColor:function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],i=0;i<t.length;i++){var s=t[i].re,r=t[i].process,n=s.exec(e);n&&(channels=r(n),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),i=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==i.length&&(i="0"+i),"#"+e+t+i}},hexToRGBA:function(e,t){var i=new this.RGBColor(e);return i.a=t||1,i.toRGBA()}}}),function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,s=i._,r=Array.prototype,n=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,l=r.slice,u=n.toString,c=n.hasOwnProperty,h=Array.isArray,m=Object.keys,p=Object.create,f=function(){},d=function(e){return e instanceof d?e:this instanceof d?void(this._wrapped=e):new d(e)};void 0===e||e.nodeType?window!=i&&(i._=d):(void 0!==t&&!t.nodeType&&t.exports&&(e=t.exports=d),e._=d),d.VERSION="1.8.3";var g=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,s,r){return e.call(t,i,s,r)};case 4:return function(i,s,r,n){return e.call(t,i,s,r,n)}}return function(){return e.apply(t,arguments)}},v,y=function(e,t,i){return d.iteratee!==v?d.iteratee(e,t):null==e?d.identity:d.isFunction(e)?g(e,t,i):d.isObject(e)?d.matcher(e):d.property(e)};d.iteratee=v=function(e,t){return y(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),s=Array(i),r=0;r<i;r++)s[r]=arguments[r+t];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,arguments[0],s);case 2:return e.call(this,arguments[0],arguments[1],s)}var n=Array(t+1);for(r=0;r<t;r++)n[r]=arguments[r];return n[t]=s,e.apply(this,n)}},w=function(e){if(!d.isObject(e))return{};if(p)return p(e);f.prototype=e;var t=new f;return f.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,S=_("length"),k=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=x};d.each=d.forEach=function(e,t,i){t=g(t,i);var s,r;if(k(e))for(s=0,r=e.length;s<r;s++)t(e[s],s,e);else{var n=d.keys(e);for(s=0,r=n.length;s<r;s++)t(e[n[s]],n[s],e)}return e},d.map=d.collect=function(e,t,i){t=y(t,i);for(var s=!k(e)&&d.keys(e),r=(s||e).length,n=Array(r),o=0;o<r;o++){var a=s?s[o]:o;n[o]=t(e[a],a,e)}return n};var T=function(e){var t=function(t,i,s,r){var n=!k(t)&&d.keys(t),o=(n||t).length,a=e>0?0:o-1;for(r||(s=t[n?n[a]:a],a+=e);a>=0&&a<o;a+=e){var l=n?n[a]:a
;s=i(s,t[l],l,t)}return s};return function(e,i,s,r){var n=arguments.length>=3;return t(e,g(i,r,4),s,n)}};d.reduce=d.foldl=d.inject=T(1),d.reduceRight=d.foldr=T(-1),d.find=d.detect=function(e,t,i){var s=k(e)?d.findIndex:d.findKey,r=s(e,t,i);if(void 0!==r&&-1!==r)return e[r]},d.filter=d.select=function(e,t,i){var s=[];return t=y(t,i),d.each(e,function(e,i,r){t(e,i,r)&&s.push(e)}),s},d.reject=function(e,t,i){return d.filter(e,d.negate(y(t)),i)},d.every=d.all=function(e,t,i){t=y(t,i);for(var s=!k(e)&&d.keys(e),r=(s||e).length,n=0;n<r;n++){var o=s?s[n]:n;if(!t(e[o],o,e))return!1}return!0},d.some=d.any=function(e,t,i){t=y(t,i);for(var s=!k(e)&&d.keys(e),r=(s||e).length,n=0;n<r;n++){var o=s?s[n]:n;if(t(e[o],o,e))return!0}return!1},d.contains=d.includes=d.include=function(e,t,i,s){return k(e)||(e=d.values(e)),("number"!=typeof i||s)&&(i=0),d.indexOf(e,t,i)>=0},d.invoke=b(function(e,t,i){var s=d.isFunction(t);return d.map(e,function(e){var r=s?t:e[t];return null==r?r:r.apply(e,i)})}),d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matcher(t))},d.findWhere=function(e,t){return d.find(e,d.matcher(t))},d.max=function(e,t,i){var s=-1/0,r=-1/0,n,o;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:d.values(e);for(var a=0,l=e.length;a<l;a++)null!=(n=e[a])&&n>s&&(s=n)}else t=y(t,i),d.each(e,function(e,i,n){((o=t(e,i,n))>r||o===-1/0&&s===-1/0)&&(s=e,r=o)});return s},d.min=function(e,t,i){var s=1/0,r=1/0,n,o;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:d.values(e);for(var a=0,l=e.length;a<l;a++)null!=(n=e[a])&&n<s&&(s=n)}else t=y(t,i),d.each(e,function(e,i,n){((o=t(e,i,n))<r||o===1/0&&s===1/0)&&(s=e,r=o)});return s},d.shuffle=function(e){return d.sample(e,1/0)},d.sample=function(e,t,i){if(null==t||i)return k(e)||(e=d.values(e)),e[d.random(e.length-1)];var s=k(e)?d.clone(e):d.values(e),r=S(s);t=Math.max(Math.min(t,r),0);for(var n=r-1,o=0;o<t;o++){var a=d.random(o,n),l=s[o];s[o]=s[a],s[a]=l}return s.slice(0,t)},d.sortBy=function(e,t,i){var s=0;return t=y(t,i),d.pluck(d.map(e,function(e,i,r){return{value:e,index:s++,criteria:t(e,i,r)}}).sort(function(e,t){var i=e.criteria,s=t.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(i<s||void 0===s)return-1}return e.index-t.index}),"value")};var C=function(e,t){return function(i,s,r){var n=t?[[],[]]:{};return s=y(s,r),d.each(i,function(t,r){var o=s(t,r,i);e(n,t,o)}),n}};d.groupBy=C(function(e,t,i){d.has(e,i)?e[i].push(t):e[i]=[t]}),d.indexBy=C(function(e,t,i){e[i]=t}),d.countBy=C(function(e,t,i){d.has(e,i)?e[i]++:e[i]=1});var B=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;d.toArray=function(e){return e?d.isArray(e)?l.call(e):d.isString(e)?e.match(B):k(e)?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return null==e?0:k(e)?e.length:d.keys(e).length},d.partition=C(function(e,t,i){e[i?0:1].push(t)},!0),d.first=d.head=d.take=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[0]:d.initial(e,e.length-t)},d.initial=function(e,t,i){return l.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},d.last=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[e.length-1]:d.rest(e,Math.max(0,e.length-t))},d.rest=d.tail=d.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},d.compact=function(e){return d.filter(e,Boolean)};var E=function(e,t,i,s){s=s||[];for(var r=s.length,n=0,o=S(e);n<o;n++){var a=e[n];if(k(a)&&(d.isArray(a)||d.isArguments(a)))if(t)for(var l=0,u=a.length;l<u;)s[r++]=a[l++];else E(a,t,i,s),r=s.length;else i||(s[r++]=a)}return s};d.flatten=function(e,t){return E(e,t,!1)},d.without=b(function(e,t){return d.difference(e,t)}),d.uniq=d.unique=function(e,t,i,s){d.isBoolean(t)||(s=i,i=t,t=!1),null!=i&&(i=y(i,s));for(var r=[],n=[],o=0,a=S(e);o<a;o++){var l=e[o],u=i?i(l,o,e):l;t?(o&&n===u||r.push(l),n=u):i?d.contains(n,u)||(n.push(u),r.push(l)):d.contains(r,l)||r.push(l)}return r},d.union=b(function(e){return d.uniq(E(e,!0,!0))}),d.intersection=function(e){for(var t=[],i=arguments.length,s=0,r=S(e);s<r;s++){var n=e[s];if(!d.contains(t,n)){var o;for(o=1;o<i&&d.contains(arguments[o],n);o++);o===i&&t.push(n)}}return t},d.difference=b(function(e,t){return t=E(t,!0,!0),d.filter(e,function(e){return!d.contains(t,e)})}),d.unzip=function(e){for(var t=e&&d.max(e,S).length||0,i=Array(t),s=0;s<t;s++)i[s]=d.pluck(e,s);return i},d.zip=b(d.unzip),d.object=function(e,t){for(var i={},s=0,r=S(e);s<r;s++)t?i[e[s]]=t[s]:i[e[s][0]]=e[s][1];return i};var I=function(e){return function(t,i,s){i=y(i,s);for(var r=S(t),n=e>0?0:r-1;n>=0&&n<r;n+=e)if(i(t[n],n,t))return n;return-1}};d.findIndex=I(1),d.findLastIndex=I(-1),d.sortedIndex=function(e,t,i,s){i=y(i,s,1);for(var r=i(t),n=0,o=S(e);n<o;){var a=Math.floor((n+o)/2);i(e[a])<r?n=a+1:o=a}return n};var L=function(e,t,i){return function(s,r,n){var o=0,a=S(s);if("number"==typeof n)e>0?o=n>=0?n:Math.max(n+a,o):a=n>=0?Math.min(n+1,a):n+a+1;else if(i&&n&&a)return n=i(s,r),s[n]===r?n:-1;if(r!==r)return n=t(l.call(s,o,a),d.isNaN),n>=0?n+o:-1;for(n=e>0?o:a-1;n>=0&&n<a;n+=e)if(s[n]===r)return n;return-1}};d.indexOf=L(1,d.findIndex,d.sortedIndex),d.lastIndexOf=L(-1,d.findLastIndex),d.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var s=Math.max(Math.ceil((t-e)/i),0),r=Array(s),n=0;n<s;n++,e+=i)r[n]=e;return r},d.chunk=function(e,t){if(null==t||t<1)return[];for(var i=[],s=0,r=e.length;s<r;)i.push(l.call(e,s,s+=t));return i};var P=function(e,t,i,s,r){if(!(s instanceof t))return e.apply(i,r);var n=w(e.prototype),o=e.apply(n,r);return d.isObject(o)?o:n};d.bind=b(function(e,t,i){if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");var s=b(function(r){return P(e,s,t,this,i.concat(r))});return s}),d.partial=b(function(e,t){var i=d.partial.placeholder,s=function(){for(var r=0,n=t.length,o=Array(n),a=0;a<n;a++)o[a]=t[a]===i?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return P(e,s,this,this,o)};return s}),d.partial.placeholder=d,d.bindAll=b(function(e,t){t=E(t,!1,!1);var i=t.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var s=t[i];e[s]=d.bind(e[s],e)}}),d.memoize=function(e,t){var i=function(s){var r=i.cache,n=""+(t?t.apply(this,arguments):s);return d.has(r,n)||(r[n]=e.apply(this,arguments)),r[n]};return i.cache={},i},d.delay=b(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),d.defer=d.partial(d.delay,d,1),d.throttle=function(e,t,i){var s,r,n,o,a=0;i||(i={});var l=function(){a=!1===i.leading?0:d.now(),s=null,o=e.apply(r,n),s||(r=n=null)},u=function(){var u=d.now();a||!1!==i.leading||(a=u);var c=t-(u-a);return r=this,n=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=null),a=u,o=e.apply(r,n),s||(r=n=null)):s||!1===i.trailing||(s=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(s),a=0,s=r=n=null},u},d.debounce=function(e,t,i){var s,r,n=function(t,i){s=null,i&&(r=e.apply(t,i))},o=b(function(o){if(s&&clearTimeout(s),i){var a=!s;s=setTimeout(n,t),a&&(r=e.apply(this,o))}else s=d.delay(n,t,this,o);return r});return o.cancel=function(){clearTimeout(s),s=null},o},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,s=e[t].apply(this,arguments);i--;)s=e[i].call(this,s);return s}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},d.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},d.once=d.partial(d.before,2),d.restArgs=b;var O=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A=function(e,t){var i=U.length,s=e.constructor,r=d.isFunction(s)&&s.prototype||n,o="constructor";for(d.has(e,o)&&!d.contains(t,o)&&t.push(o);i--;)(o=U[i])in e&&e[o]!==r[o]&&!d.contains(t,o)&&t.push(o)};d.keys=function(e){if(!d.isObject(e))return[];if(m)return m(e);var t=[];for(var i in e)d.has(e,i)&&t.push(i);return O&&A(e,t),t},d.allKeys=function(e){if(!d.isObject(e))return[];var t=[];for(var i in e)t.push(i);return O&&A(e,t),t},d.values=function(e){for(var t=d.keys(e),i=t.length,s=Array(i),r=0;r<i;r++)s[r]=e[t[r]];return s},d.mapObject=function(e,t,i){t=y(t,i);for(var s=d.keys(e),r=s.length,n={},o=0;o<r;o++){var a=s[o];n[a]=t(e[a],a,e)}return n},d.pairs=function(e){for(var t=d.keys(e),i=t.length,s=Array(i),r=0;r<i;r++)s[r]=[t[r],e[t[r]]];return s},d.invert=function(e){for(var t={},i=d.keys(e),s=0,r=i.length;s<r;s++)t[e[i[s]]]=i[s];return t},d.functions=d.methods=function(e){var t=[];for(var i in e)d.isFunction(e[i])&&t.push(i);return t.sort()};var j=function(e,t){return function(i){var s=arguments.length;if(t&&(i=Object(i)),s<2||null==i)return i;for(var r=1;r<s;r++)for(var n=arguments[r],o=e(n),a=o.length,l=0;l<a;l++){var u=o[l];t&&void 0!==i[u]||(i[u]=n[u])}return i}};d.extend=j(d.allKeys),d.extendOwn=d.assign=j(d.keys),d.findKey=function(e,t,i){t=y(t,i);for(var s=d.keys(e),r,n=0,o=s.length;n<o;n++)if(r=s[n],t(e[r],r,e))return r};var z=function(e,t,i){return t in i};d.pick=b(function(e,t){var i={},s=t[0];if(null==e)return i;d.isFunction(s)?(t.length>1&&(s=g(s,t[1])),t=d.allKeys(e)):(s=z,t=E(t,!1,!1),e=Object(e));for(var r=0,n=t.length;r<n;r++){var o=t[r],a=e[o];s(a,o,e)&&(i[o]=a)}return i}),d.omit=b(function(e,t){var i=t[0],s;return d.isFunction(i)?(i=d.negate(i),t.length>1&&(s=t[1])):(t=d.map(E(t,!1,!1),String),i=function(e,i){return!d.contains(t,i)}),d.pick(e,i,s)}),d.defaults=j(d.allKeys,!0),d.create=function(e,t){var i=w(e);return t&&d.extendOwn(i,t),i},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e},d.isMatch=function(e,t){var i=d.keys(t),s=i.length;if(null==e)return!s;for(var r=Object(e),n=0;n<s;n++){var o=i[n];if(t[o]!==r[o]||!(o in r))return!1}return!0};var R,N;R=function(e,t,i,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e!==e)return t!==t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&N(e,t,i,s)},N=function(e,t,i,s){e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t)}var n="[object Array]"===r;if(!n){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],s=s||[];for(var c=i.length;c--;)if(i[c]===e)return s[c]===t;if(i.push(e),s.push(t),n){if((c=e.length)!==t.length)return!1;for(;c--;)if(!R(e[c],t[c],i,s))return!1}else{var h=d.keys(e),m;if(c=h.length,d.keys(t).length!==c)return!1;for(;c--;)if(m=h[c],!d.has(t,m)||!R(e[m],t[m],i,s))return!1}return i.pop(),s.pop(),!0},d.isEqual=function(e,t){return R(e,t)},d.isEmpty=function(e){return null==e||(k(e)&&(d.isArray(e)||d.isString(e)||d.isArguments(e))?0===e.length:0===d.keys(e).length)},d.isElement=function(e){return!(!e||1!==e.nodeType)},d.isArray=h||function(e){return"[object Array]"===u.call(e)},d.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){d["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")});var q=i.document&&i.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof q&&(d.isFunction=function(e){return"function"==typeof e||!1}),d.isFinite=function(e){return!d.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&isNaN(e)},d.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},d.isNull=function(e){return null===e},d.isUndefined=function(e){return void 0===e},d.has=function(e,t){return null!=e&&c.call(e,t)},d.noConflict=function(){return i._=s,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=_,d.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(e,t,i){var s=Array(Math.max(0,e));t=g(t,i,1);for(var r=0;r<e;r++)s[r]=t(r);return s},d.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=d.invert(M),F=function(e){var t=function(t){return e[t]},i="(?:"+d.keys(e).join("|")+")",s=RegExp(i),r=RegExp(i,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(r,t):e}};d.escape=F(M),d.unescape=F(D),d.result=function(e,t,i){var s=null==e?void 0:e[t];return void 0===s&&(s=i),d.isFunction(s)?s.call(e):s};var Q=0;d.uniqueId=function(e){var t=++Q+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+H[e]};d.template=function(e,t,i){!t&&i&&(t=i),t=d.defaults({},t,d.templateSettings);var s=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),r=0,n="__p+='";e.replace(s,function(t,i,s,o,a){return n+=e.slice(r,a).replace(X,W),r=a+t.length,i?n+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":s?n+="'+\n((__t=("+s+"))==null?'':__t)+\n'":o&&(n+="';\n"+o+"\n__p+='"),t}),n+="';\n",t.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";var o;try{o=new Function(t.variable||"obj","_",n)}catch(e){throw e.source=n,e}var a=function(e){return o.call(this,e,d)};return a.source="function("+(t.variable||"obj")+"){\n"+n+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var V=function(e,t){return e._chain?d(t).chain():t};d.mixin=function(e){return d.each(d.functions(e),function(t){var i=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),V(this,i.apply(d,e))}}),d},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];d.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],V(this,i)}}),d.each(["concat","join","slice"],function(e){var t=r[e];d.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return String(this._wrapped)},"function"==typeof sumo.define&&sumo.define.amd&&sumo.define("underscore",[],function(){return d})}(),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(e){return e.noConflict()}),function(){var i;i=function(e){var t,i;return t=!1,e(function(){var s;return s=(document.body||document.documentElement).style,t=void 0!==s.animation||void 0!==s.WebkitAnimation||void 0!==s.MozAnimation||void 0!==s.MsAnimation||void 0!==s.OAnimation,e(window).bind("resize.vex",function(e){if(!e||"resize"!=e.type||e.target==window)return i.resize()}),e(window).bind("keyup.vex",function(e){if(27===e.keyCode)return i.closeByEscape()})}),i={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(t){return t=e.extend({},i.defaultOptions,t),t.id=i.globalID,i.globalID+=1,t.$vex=e("<div>").addClass(i.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.openClassName&&t.$vex.addClass(t.openClassName),t.allowBackgroundScrolling||i.setupHTMLClassName(t.$vex),t.$vexOverlay=e("<div>").addClass(i.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){if(t.target===this)return i.close(e(this).data().vex.id)}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(i.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.find("link").bind("load.vex",function(e){return i.resize()}),t.$vexContent.bind("resize.vex",function(e){return i.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(i.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+i.baseClassNames.vex+':not(".'+i.baseClassNames.closing+'") .'+i.baseClassNames.content)},getVexByID:function(t){return i.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){if(t=i.getAllVexes().last(),!t.length)return!1;e=t.data().vex.id}return i.closeByID(e)},closeAll:function(){var t;return t=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==t||!t.length)&&(e.each(t.reverse(),function(e,t){return i.closeByID(t)}),!0)},closeByID:function(s){var r,n,o,a,l;if(n=i.getVexByID(s),n.length)return r=n.data().vex.$vex,l=e.extend({},n.data().vex),o=function(){if(l.beforeClose)return l.beforeClose(n,l)},a=function(){if(n.trigger("vexClose",l),r.remove(),l.afterClose)return l.afterClose(n,l)},t?(o(),r.unbind(i.animationEndEvent).bind(i.animationEndEvent,function(){return a()}).addClass(i.baseClassNames.closing)):(o(),a()),!0},resizeByID:function(t){var s,r,n,o,a;if(r=i.getVexByID(t),r.length)return s=r.data().vex.$vex,a=e.extend({},r.data().vex),r.trigger("vexResize",a),!0},resize:function(){var t,s,r;return r=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==r||!r.length)&&(s=Math.max.apply(Math,r),t=i.getVexByID(s),i.resizeByID(s))},closeByEscape:function(){var t,s,r;return r=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==r||!r.length)&&(s=Math.max.apply(Math,r),t=i.getVexByID(s),!0===t.data().vex.escapeButtonCloses&&i.closeByID(s))},setupHTMLClassName:function(t){return t.bind("vexOpen.vex",function(){return e("html").addClass(i.baseClassNames.open)}).bind("vexClose.vex",function(){if(!i.getAllVexes().length)return e("html").removeClass(i.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return i.hideLoading(),e("body").append('<div class="vex-loading-spinner '+i.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],i):"object"==typeof e?t.exports=i(require("jquery")):window.vex=i(jQuery)}.call(this),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,r=s&&location.protocol&&location.protocol.replace(/\:/,""),n=s&&location.hostname,o=s&&(location.port||void 0),a=[];sumo.define("plugins/text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var i=l.createXhr();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var i=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),r,n,o="";try{for(r=new java.lang.StringBuffer,(n=i.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),r.append(n);null!==(n=i.readLine());)r.append(s),r.append(n);o=String(r.toString())}finally{i.close()}t(o)}),l={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),s=e.match(i);s&&(e=s[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,i,s;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(i=0;i<3;i++){s=e[i];try{t=new ActiveXObject(s)}catch(e){}if(t){e=[s];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,i=e.indexOf("."),s=e.substring(0,i),e=e.substring(i+1,e.length),i=e.indexOf("!");return-1!==i&&(t=e.substring(i+1,e.length),t="strip"===t,e=e.substring(0,i)),{moduleName:s,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,s){var r=l.xdRegExp.exec(e),n;return!r||(e=r[2],r=r[3],r=r.split(":"),n=r[1],r=r[0],!(e&&e!==t||r&&r!==i||(n||r)&&n!==s))},finishLoad:function(e,t,i,s,r){i=t?l.strip(i):i,r.isBuild&&(a[e]=i),s(i)},load:function(e,t,i,a){if(a.isBuild&&!a.inlineText)i();else{var u=l.parseName(e),c=u.moduleName+"."+u.ext,h=t.toUrl(c),m=a&&a.text&&a.text.useXhr||l.useXhr;!s||m(h,r,n,o)?l.get(h,function(t){l.finishLoad(e,u.strip,t,i,a)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,i,a)})}},write:function(e,t,i){if(t in a){var s=l.jsEscape(a[t]);i.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,i,s,r){var t=l.parseName(t),n=t.moduleName+"."+t.ext,o=i.toUrl(t.moduleName+"."+t.ext)+".js";l.load(n,i,function(){var t=function(e){return s(o,e)};t.asModule=function(e,t){return s.asModule(e,o,t)},l.write(e,n,t,r)},r)}}})}(),sumo.define("plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html",[],function(){return""}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return""===e.trim(e(t).text())}}),e.fn.findIncludeSelf=function(t,i){var s;return s=":has(> p + p + p)"==t?this.find("p + p + p").parent():this.find(t),e(this).is(i)?s:s.addBack(t)},e.fn.exists=function(){return 0!==this.length},e.fn.findLeaves=function(i,s){var r=e(this),n=r.findIncludeSelf(i,"body").filter(s);return n=n.filter(t),n.filter(function(){return!e(this).find(n).exists()})},e.fn.findTrunks=function(i,s){var r=e(this),n=r.findIncludeSelf(i,"body").filter(s);return n=n.filter(t),n.filter(function(){return!e(this).parents().filter(n).exists()})};var t=function(){if(this._header||(this._header=s(e(this))),this._titleText||(this._titleText=o(this)),this._header){var t=.666*e(this).outerHeight();if(t&&this._header.outerHeight()>=t)return!1}return!0},i=function(t){var i=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",s=e(),r=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',n=[];n.push("article"),n.push(".post"),n.push(".entry-content"),n.push(".post-content"),n.push(".post_box"),n.push(".post-item"),n.push(".blog-post-wrapper"),n.push(".type-post"),n.push("#content"),n.push(".blog_content"),"body"!=i?(n.push(".hentry"),n.push(".content")):(n.push("main .hentry"),n.push("[role=main] .hentry"),n.push("main .content"),n.push("[role=main] .content")),n.push("#post-content"),n.push("#blog-content"),n.push(".blog-post");for(var o=[":has(> p + p + p)"],a=0;a<n.length;a++)if(s=e(i).findLeaves(n[a],r),s.length>0)return s;for(var a=0;a<o.length;a++)if(s=e(i).findTrunks(o[a],r),s.length>0)return s;var s,l,u,c;return s},s=function(t){var i=null,s=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],r={};try{s.forEach(function(s){if(i=e(t).find(s),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0);throw e}return null},r=function(t){var i=null,s=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],r={};try{s.forEach(function(s){if(i=e(t).find(s),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0).hasClass("fb-comments")&&i.eq(0).prev("h3 + p").length>0?i.eq(0).prev("h3 + p").prev("h3"):i.eq(0);throw e}return null},n=function(e){return s(e)},o=function(e){var t=null;return!e._title&&e._header&&(e._title=e._header),e._title&&(t=e._title.text().trim()),t},a=function(t){var i=null,s=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],r={};try{s.forEach(function(s){if(i=e(t).find(s).filter("[href]"),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0);throw e}return null};e.articles=function(t){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=i(t);return l.each(function(){this._header||(this._header=s(e(this))),this._footer=r(e(this)),this._title=this._header?n(this._header):null,this._titleText||(this._titleText=o(this));var t=this._header?a(this._header):null;this._anchor=t||a(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.print-preview",["jquery"],function(e){e.fn.printPreview=function(){return e.printPreview.loadPrintPreview(),this};var t,i,s,r,n=function(){for(var e,t=3,i=document.createElement("div"),s=i.getElementsByTagName("i");i.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",s[0];);return t>4?t:e}();e.printPreview={loadPrintPreview:function(){s=e('<div id="sumome-share-print-modal"></div>'),r=e('<div id="sumome-share-print-modal-controls"><a href="#" class="sumome-share-print-modal-controls-print" title="Print page">Print page</a><a href="#" class="sumome-share-print-modal-controls-close" title="Close print preview">Close</a>').hide();var t=e('<iframe id="sumome-share-print-modal-content" scrolling="no" border="0" frameborder="0" name="print-frame" />');s.hide().append(r).append(t).appendTo("body");var i=t[0].contentWindow.document;i.open(),i.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>'+document.title+"</title></head><body></body></html>"),i.close();var n=e("head link[media*=print], head link[media=all]").clone(),o=e("body > *:not(#sumome-share-print-modal):not(script)").clone();n.each(function(){e(this).attr("media","all")}),e("head",i).append(n),e("body",i).append(o),e("a",i).bind("click.printPreview",function(e){e.preventDefault()}),e("head").append('<style type="text/css">@media print {/* -- Print Preview --*/#sumome-share-print-modal-mask,#sumome-share-print-modal {display: none !important;}}</style>'),e.printPreview.loadMask(),e("body").css({overflowY:"hidden",height:"100%"}),e("img",i).load(function(){t.height(e("body",t.contents())[0].scrollHeight)}),starting_position=e(window).height()+e(window).scrollTop();var a={top:starting_position,height:"100%",overflowY:"auto",zIndex:1e4,display:"block"};s.css(a).animate({top:e(window).scrollTop()},400,"linear",function(){r.fadeIn("slow").focus()}),t.height(e("body",t.contents())[0].scrollHeight),e("a",r).bind("click",function(t){t.preventDefault(),e(this).hasClass("sumome-share-print-modal-controls-print")?window.print():e.printPreview.distroyPrintPreview()})},distroyPrintPreview:function(){r.fadeOut(100),s.animate({top:e(window).scrollTop()-e(window).height(),opacity:1},400,"linear",function(){s.remove(),e("body").css({overflowY:"auto",height:"auto"})}),t.fadeOut("slow",function(){t.remove()}),e(document).unbind("keydown.printPreview.mask"),t.unbind("click.printPreview.mask"),e(window).unbind("resize.printPreview.mask")},loadMask:function(){i=e.printPreview.sizeUpMask(),t=e('<div id="sumome-share-print-modal-mask" />').appendTo(e("body")),t.css({position:"absolute",top:0,left:0,width:i[0],height:i[1],display:"none",opacity:0,zIndex:9999,backgroundColor:"#000"}),t.css({display:"block"}).fadeTo("400",.75),e(window).bind("resize..printPreview.mask",function(){e.printPreview.updateMaskSize()}),t.bind("click.printPreview.mask",function(t){e.printPreview.distroyPrintPreview()}),e(document).bind("keydown.printPreview.mask",function(t){27==t.keyCode&&e.printPreview.distroyPrintPreview()})},sizeUpMask:function(){if(n){var t=e(document).height(),i=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t-i<20?i:t]}return[e(document).width(),e(document).height()]},updateMaskSize:function(){var i=e.printPreview.sizeUpMask();t.css({width:i[0],height:i[1]})}}}),sumo.define("jquery.share",["jquery","jquery.print-preview"],function(e){e.shareServices={amazonuniversalregistry:{name:"Amazon Universal Registry",url:"https://www.amazon.com/registry/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#F7AD29",color:"#fff"},amazonuswishlist:{name:"Amazon Wishlist",url:"https://www.amazon.com/wishlist/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#FC9A18",color:"#fff"},aollifestream:{name:"AOL Lifestream",url:"http://lifestream.aol.com/share/?url={URL}&title={TEXT}&description={DESC}",width:580,height:440,background:"#8DB822",color:"#fff"},aolmail:{name:"AOL Mail",url:"https://mail.aol.com/webmail-std/en-us/composemessage?to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#262626",color:"#fff"},arto:{name:"Arto",url:"http://www.arto.com/section/linkshare/default.aspx?lu={URL}&ln={TEXT}",width:1e3,height:770,background:"#8DB822",color:"#fff"},bitly:{name:"Bitly",url:"https://bitly.com/a/bitmarklet?u={URL}",width:1160,height:500,background:"#EE6023",color:"#fff"},bloggerpost:{name:"Blogger",url:"https://www.blogger.com/blog-this.g?t&u={URL}&n={TEXT}",width:750,height:700,background:"#F79638",color:"#fff"},boxnet:{name:"Box",url:"https://www.box.com/api/1.0/import?import_as=link&url={URL}&name={TEXT}",width:500,height:500,background:"#2F88B1",color:"#fff"},buffer:{name:"Buffer",url:"http://bufferapp.com/add?text={TEXT}&url={URL}",width:890,height:532,background:"#242424",color:"#fff",fetch:"https://api.bufferapp.com/1/links/shares.json?url={URL}",
parse:function(e){return parseInt(e.shares)},priority:89},delicious:{name:"Delicious",url:"http://del.icio.us/post?url={URL}&title={TEXT}&notes={DESC}",width:550,height:588,background:"#3399ff",color:"#fff",priority:85},digg:{name:"Digg",url:"http://digg.com/submit?url={URL}&title={TEXT}",width:1080,height:670,background:"#0093CC",color:"#fff",priority:86},diigo:{name:"Diigo",url:"https://www.diigo.com/post?url={URL}&title={TEXT}&description={DESC}",width:625,height:660,background:"#4DA2E4",color:"#fff"},diigolet:{name:"Diigolet",width:600,height:500,background:"#4DA2E4",color:"#fff",javascript:function(){s=document.createElement("script"),s.type="text/javascript",s.src="https://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js",document.body.appendChild(s)}},email:{name:"Email",url:"mailto:?subject={TEXT}&body={DESC}%20{URL}{PROMO}",width:600,height:500,background:"#aaa",color:"#fff",priority:99},evernote:{name:"Evernote",url:"http://www.evernote.com/clip.action?url={URL}&title={TEXT}",width:960,height:533,background:"#6fb536",color:"#fff",priority:85},facebook:{name:"Facebook",url:"http://www.facebook.com/sharer.php?u={URL}",width:600,height:600,background:"#3b5998",color:"#fff",fetch:"//graph.facebook.com/?id={URL}",parse:function(e){return parseInt(e.share.share_count)},priority:100},facebooklike:{name:"Facebook Like",url:"https://sumo.com/apps/share/facebook-like?href={URL}",width:600,height:300,background:"#5a739d",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(e){return parseInt(e[0].like_count)},priority:95},facebooksend:{name:"Facebook Send",url:"https://www.facebook.com/dialog/send?app_id=859406404089021&link={URL}&redirect_uri=https%3a%2f%2fsumo.com%2fapps%2fshare%2fthanks&display=popup",width:600,height:500,background:"#3b5998",color:"#fff"},fancy:{name:"Fancy",width:600,height:500,background:"#494E57",color:"#fff",javascript:function(){thefancy_username="";var e="thefancy_tagger_bookmarklet_helper_js",t=document.getElementById(e),i=!0;if(t){var s=window;try{s.thefancy_bookmarklet?(s.thefancy_bookmarklet.tagger.cleanListeners(),t.parentNode.removeChild(t)):i=!1}catch(e){i=!1}}i&&(_my_script=document.createElement("SCRIPT"),_my_script.type="text/javascript",_my_script.id=e,_my_script.src=location.protocol+"//fancy.com/bookmarklet/fancy_tagger.js?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_my_script))}},flipboard:{name:"Flipboard",url:"https://share.flipboard.com/bookmarklet/popout?v=2&title={TEXT}&url={URL}",width:600,height:500,background:"#CC0713",color:"#fff"},friendfeed:{name:"FriendFeed",url:"http://www.friendfeed.com/share?url={URL}&title={TEXT}",width:800,height:550,background:"#87a9d9",color:"#fff"},googlebookmarks:{name:"Google Bookmarks",url:"https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk={URL}&title={TEXT}&annotation={DESC}",width:600,height:500,background:"#4A8CF6",color:"#fff"},googlemail:{name:"Gmail",url:"https://mail.google.com/mail/u/0/?view=cm&fs=1&to&su={TEXT}&body={URL}&ui=2&tf=1",width:600,height:500,background:"#E04C40",color:"#fff"},googleplus:{name:"Google+",url:"https://plus.google.com/share?url={URL}",width:512,height:432,background:"#dd4b39",color:"#fff",method:"googleplus",fetch:"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",parse:function(e){return parseInt(e.result.metadata.globalCounts.count)},priority:96},hootsuite:{name:"Hootsuite",url:"https://hootsuite.com/hootlet/load?address={URL}&title={TEXT}",width:750,height:650,background:"#000",color:"#fff"},houzz:{name:"Houzz",width:600,height:500,background:"#7AC143",color:"#fff",javascript:function(){function e(e,t,i){var s=e.indexOf("?"),r=e.indexOf("#");return s==e.length-1&&(e=e.substring(0,s),s=-1),(r>0?e.substring(0,r):e)+(s>0?"&"+t+"="+i:"?"+t+"="+i)+(r>0?e.substring(r):"")}var t=document.createElement("link");t.rel="stylesheet",t.href=e("//www.houzz.com/res/2125/css/style?f=clipper","cb",Math.floor(1e6*Math.random())),document.getElementsByTagName("head")[0].appendChild(t);var i=document.createElement("script");i.type="text/javascript",i.src=e("//www.houzz.com/js/script?f=clipper&v=2125&s=101&l=en-US&d=1&m=1","cb",Math.floor(1e6*Math.random())),document.body.appendChild(i)}},instapaper:{name:"Instapaper",url:"http://www.instapaper.com/hello2?url={URL}&title={TEXT}&description={DESC}",width:475,height:200,background:"#464646",color:"#000"},kaboodle:{name:"Kaboodle",width:600,height:500,background:"#B9212A",color:"#fff",javascript:function(){var e="0.3",t=document,i;try{i=t.standardCreateElement("script")}catch(e){}"object"!=typeof i&&(i=t.createElement("script"));try{i.type="text/javascript",i.src="http://www.kaboodle.com/zg/g.js",i.id="c_grab_js",t.getElementsByTagName("head")[0].appendChild(i)}catch(e){window.location="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+window.location}}},kik:{name:"Kik",url:"http://share-api.kik.com/share.do?url={URL}&title={TEXT}",width:600,height:550,background:"#8CC04F",color:"#fff"},lineapp:{name:"Line",url:"http://line.me/R/msg/text/?{TEXT}%20-%20{URL}",width:600,height:500,background:"#01C312",color:"#fff"},linkedin:{name:"LinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TEXT}&summary={DESC}",width:615,height:495,background:"#007bb6",color:"#fff",method:"linkedin",fetch:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={URL}",parse:function(e){return parseInt(e.count)},priority:91},meneame:{name:"Menéame",url:"https://www.meneame.net/submit.php?url={URL}",width:600,height:500,background:"#FC6320",color:"#fff"},microsoftonenote:{name:"Microsoft OneNote",url:"https://www.onenote.com/clipper/save?sourceUrl={URL}&title={TEXT}&notes={DESC}",width:800,height:660,background:"#80397B",color:"#fff"},misterwong:{name:"Mister Wong",url:"http://www.mister-wong.com/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongcn:{name:"Mister Wong CN",url:"http://www.mister-wong.cn/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwonges:{name:"Mister Wong ES",url:"http://www.mister-wong.es/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongfr:{name:"Mister Wong FR",url:"http://www.mister-wong.fr/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongru:{name:"Mister Wong RU",url:"http://www.mister-wong.RU/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},newsvine:{name:"Newsvine",url:"http://www.newsvine.com/_tools/seed&save?u={URL}&h={TEXT}",width:500,height:700,background:"#11660C",color:"#fff"},odnoklassniki:{name:"Odnoklassniki",url:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl={URL}",width:540,height:395,background:"#F38230",color:"#fff"},outlook:{name:"Outlook",url:"https://mail.live.com/secure/start?action=compose&to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#1172C6",color:"#fff"},pinboardin:{name:"Pinboard",url:"https://pinboard.in/add?next=same&url={URL}&description={DESC}&title={TEXT}",width:600,height:500,background:"#214CF4",color:"#fff"},pinterest:{name:"Pinterest",url:"http://pinterest.com/pin/create/button/?url={URL}&description={TEXT}&media={IMAGE}",width:765,height:320,background:"#cb2027",color:"#fff",fetch:"//widgets.pinterest.com/v1/urls/count.json?callback=?&source=6&url={URL}",parse:function(e){return parseInt(e.count)},javascript:function(e,t,i,s,r,n,a){!function(i,s,r,n,a,l,u){var c="",h={k:"PIN_"+(new Date).getTime(),me:/\/\/assets\.pinterest\.com\/js\/pinmarklet\.js/,grid:e+"/apps/share/pinterest-grid",maxWait:5e3,quality:30,xv:"data-pinterest-extension-installed",log:"https://log.pinterest.com/",hazPinningNow:"data-pinterest-pinmarklet-rendered",pattern:{instagram:{page:/^https?:\/\/(.*?\.|)instagram\.com\//,url:/^https?:\/\/(.*?\.|)instagram\.com\/p\//},amazon:{media:/^https?:\/\/(.*?\.|)images-amazon\.com\/images\//,page:/^https?:\/\/(.*?\.|)amazon\.com\//},pinterest:{page:/^https?:\/\/(.*?\.|)pinterest\.com\//},facebook:{page:/^https?:\/\/([a-zA-Z0-9]*\.|)facebook\.com\//},craigslist:{page:/^https?:\/\/(.*?\.|)craigslist\.org\//},itunes:{page:/^https?:\/\/itunes\.apple\.com\//},youtube:{iframe:/^https?:\/\/www\.youtube\.com\/embed/,media:/^https?:\/\/(.*?\.|)ytimg\.com\/(vi|li)\//,page:/^https?:\/\/(.*?\.|)youtube\.com\//},flickr:{media:/^https?:\/\/(.*?)\.staticflickr\.com\//,page:/^https?:\/\/www\.flickr\.com\//},"500px":{media:/^https?:\/\/(.*?)\.500px\.org\//},vimeo:{iframe:/^https?:\/\/player\.vimeo\.com\/video\//,media:/^https?:\/\/i\.vimeocdn\.com\/video\//,page:/^https?:\/\/vimeo\.com\//},google:{page:/^https?:\/\/www\.google\.com\/search(.*&tbm=isch.*)/},twitter:{page:/^https?:\/\/twitter\.com\//},wikipedia:{page:/^https?:\/\/(.*?\.|)wikipedia\.org\//}},validConfigParam:["debug","noCancel","noHeader","pinMethod","render","share","quiet","quality","pinbox","via","xuid","edu","guid"],validImageFileType:{gif:1,jpg:1,jpeg:1,png:1,webp:1},invalidImageFileType:{svg:1},imgLimitMin:119,imgLimitFloor:79,imgLimitHorz:3,thumbCellSize:236,thumbCellMargin:14,tag:{link:["rel","href"],meta:["name","content","property","http-equiv","content-language"],a:["data-pin-href","data-pin-id"],iframe:["src"],img:["src","title","alt","naturalHeight","naturalWidth","nopin","data-pin-nopin","data-pin-id","data-pin-media","data-pin-url","data-pin-description","usemap"]},cdn:{"https:":"https://s-passets.pinimg.com","http:":"http://passets.pinterest.com"},msg:t,hashList:[/efa3a2deb839/,/20c46b653b00/,/9e2089d8b8f2/,/820a6e7baa0f/,/293aa4f9b3d0/,/1529ad2b2cc8/,/8de5d416e5d2/,/8c2d5961f7af/,/540b2374abf1/,/415215dcadbf/,/dbafdf055617/,/871de03c9980/,/85ae87da6618/,/1d1d5ffa1d50/,/1847807c0ea1/,/08fb2eb6424d/,/a32353817e45/,/71c1f4783e6d/,/79f57d83d54a/,/eefa602a72ed/,/32aa39d04eb4/,/25f7c9982cea/]},m=window[h.k]={w:window,d:document,a:h,s:{},f:function(){return{callback:[],sha:function(e){function t(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}function i(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function s(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t){return e<<t|e>>>32-t}function n(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i=Array(80),n=1732584193,l=-271733879,u=-1732584194,c=271733878,h=-1009589776,m=0;m<e.length;m+=16){for(var p=n,f=l,d=u,g=c,v=h,y=0;y<80;y++){i[y]=y<16?e[m+y]:r(i[y-3]^i[y-8]^i[y-14]^i[y-16],1);var b=s(s(r(n,5),o(y,l,u,c)),s(s(h,i[y]),a(y)));h=c,c=u,u=r(l,30),l=n,n=b}n=s(n,p),l=s(l,f),u=s(u,d),c=s(c,g),h=s(h,v)}return Array(n,l,u,c,h)}function o(e,t,i,s){return e<20?t&i|~t&s:e<40?t^i^s:e<60?t&i|t&s|i&s:t^i^s}function a(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function l(e){return i(n(t(e),8*e.length))}function u(e){for(var t,i="0123456789abcdef",s="",r=0;r<e.length;r++)t=e.charCodeAt(r),s=s+i.charAt(t>>>4&15)+i.charAt(15&t);return s}return u(l(e))},get:function(e,t){var i=null;return i=void 0!==e[t]?e[t]:e.getAttribute(t)},set:function(e,t,i){"string"==typeof e[t]?e[t]=i:e.setAttribute(t,i)},getEl:function(e){var t=null;return t=e.target?3===e.target.nodeType?e.target.parentNode:e.target:e.srcElement},parse:function(e,t){var i,s,r,n,o,a;if(a={},i=e.split("#")[0].split("?"),i[1])for(s=i[1].split("&"),n=0,o=s.length;n<o;n+=1)r=s[n].split("="),2===r.length&&t[r[0]]&&(a[r[0]]=r[1]);return a},make:function(e){var t,i,s,r=!1;for(t in e)if(e[t].hasOwnProperty){r=m.d.createElement(t);for(i in e[t])if(e[t][i]&&e[t][i].hasOwnProperty)if("string"==typeof e[t][i])m.f.set(r,i,e[t][i]);else if("style"===i)for(s in e[t][i])r.style.setProperty?r.style.setProperty(s,e[t][i][s],"important"):r.style[s]=e[t][i][s];break}return r},kill:function(e){"string"==typeof e&&(e=m.d.getElementById(e)),e&&e.parentNode&&e.parentNode.removeChild(e)},call:function(e,t){var i,s,r="?";m.v.nextCallback||(m.v.nextCallback=0),i=m.v.nextCallback,m.v.nextCallback=m.v.nextCallback+1,s=m.a.k+".f.callback["+i+"]",m.f.callback[i]=function(e){t(e,i),m.f.kill(s),m.v.callbackLoadingCount=m.v.callbackLoadingCount-1},e.match(/\?/)&&(r="&"),m.d.b.appendChild(m.f.make({SCRIPT:{id:s,type:"text/javascript",charset:"utf-8",src:e+r+"callback="+s}})),m.v.callbackLoadingCount=m.v.callbackLoadingCount+1},listen:function(e,t,i,s){void 0!==m.w.sumomeSharePinterestEvent&&(void 0!==e.removeEventListener&&e.removeEventListener(t,m.w.sumomeSharePinterestEvent,!1),void 0!==e.detachEvent&&e.detachEvent("on"+t,m.w.sumomeSharePinterestEvent)),s?void 0!==e.removeEventListener?e.removeEventListener(t,i,!1):void 0!==e.detachEvent&&e.detachEvent("on"+t,i):void 0!==m.w.addEventListener?e.addEventListener(t,i,!1):void 0!==m.w.attachEvent&&e.attachEvent("on"+t,i),m.w.sumomeSharePinterestEvent=i},debug:function(e){},getConfig:function(){var e=m.d.getElementsByTagName("SCRIPT"),t=e.length,i=0,s=0,r=m.a.validConfigParam.length,n=null,o="",a=function(e){m.w.setTimeout(function(){m.f.kill(e)},10)};for(i=0;i<t;i+=1)if(e[i].src.match(m.a.me)){for(s=0;s<r;s+=1)o=m.a.validConfigParam[s],(n=e[i].getAttribute(o))&&(m.v.config[o]=n);a(e[i]);break}},getSelection:function(){return(""+(m.w.getSelection?m.w.getSelection():m.d.getSelection?m.d.getSelection():m.d.selection.createRange().text)).replace(/(^\s+|\s+$)/g,"")},getDim:function(e){var t,i;return t=0,i=0,"number"==typeof e.naturalHeight?t=e.naturalHeight:"number"==typeof e.height&&(t=e.height),"number"==typeof e.naturalWidth?i=e.naturalWidth:"number"==typeof e.width&&(i=e.width),{h:t,w:i}},check:{fileType:function(e){var t,i;return t=!0,e.src&&(i=e.src.split("#")[0].split("?")[0].split(".").pop(),m.a.invalidImageFileType[i]&&(t=!1)),t},visibility:function(e){var t,i,s;for(i=e.parentNode,t=!0;i&&"HTML"!==i.tagName;){if(i.currentStyle?("none"===i.currentStyle.display||"hidden"===i.currentStyle.visibility)&&(t=!1):m.w.getComputedStyle&&("none"===m.w.getComputedStyle(e).getPropertyValue("display")||"hidden"===m.w.getComputedStyle(e).getPropertyValue("visibility"))&&(t=!1),!1===t){s=e.src+": is invisible";break}i=i.parentNode}return t},noPin:function(e){var t,i;return t=!0,m.f.get(e,"data-pin-nopin")&&(t=!1,i=e.src+": data-pin-nopin=true"),m.f.get(e,"nopin")&&(t=!1,i=e.src+": nopin=nopin"),t},size:function(e){var t,i,s;return t=!1,s=m.f.getDim(e),s.h>m.a.imgLimitFloor&&s.w>m.a.imgLimitFloor?s.h>m.a.imgLimitMin||s.w>m.a.imgLimitMin?s.w<s.h*m.a.imgLimitHorz?t=!0:i=e.src+" too wide":i=e.src+" one dimension <= "+m.a.imgLimitMin:i=e.src+" one dimension <= "+m.a.imgLimitFloor,t},dupe:function(e){var t=e;"object"==typeof e&&(t=e.src);var i=!0;return m.v.src[t]?i=!1:m.v.src[t]=!0,i},source:function(e,t){var i,s,r;return i=!1,r="string"==typeof e?e:e.src||e.href,r&&r.match(/^http/)&&(r.match(/File:/)||(t?(s=r.split("#")[0].split("?")[0].split(".").pop(),m.a.validImageFileType[s]&&(i=!0)):i=!0)),i},domain:function(e){var t,i,s,r,n;if(n=e,"object"==typeof e&&(n=e.src),r=n.split("/")[2],s=!0,void 0===m.v.srcDomain[r]){for(var i=m.f.sha(r),t=0,o=m.a.hashList.length;t<o;t+=1)if(i.match(m.a.hashList[t])){s=!1;break}m.v.srcDomain[r]={bad:s}}else s=m.v.srcDomain[r].bad;return s}},tag:{img:function(e){var t,i;t=!0;for(i in m.f.check)if(!m.f.check[i](e)){t=!1;break}return t},iframe:function(e){var t,i;if(e.src.match(m.a.pattern.instagram.url)&&(i=e.src.split("embed"),i[1]&&(t="https://api.instagram.com/oembed?url="+encodeURIComponent(i[0]),m.f.call(t,m.f.handlers.instagram))),e.src.match(m.a.pattern.youtube.iframe)){var i=e.src.split("#")[0].split("?")[0].split("/")[4];i&&(t={media:"http://i.ytimg.com/vi/"+i+"/hqdefault.jpg",set:{description:m.d.title,url:"http://www.youtube.com/watch?v="+i,isVideo:!0,attrib:"youtube"}},m.f.loadImg(t))}e.src.match(m.a.pattern.vimeo.iframe)&&(i=function(e){e.thumbnail_url&&(t={media:e.thumbnail_url.split("_")[0]+".jpg",set:{url:"https://vimeo.com/"+e.video_id,description:e.title,isVideo:!0,attrib:"vimeo"}},m.f.loadImg(t))},t="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e.src),m.f.call(t,i))},a:function(e){var t,i,s,r;(i=m.f.get(e,"data-pin-href"))&&(s=m.f.parse(i,{url:!0,media:!0,description:!0}),s.media&&(t={media:decodeURIComponent(s.media),set:{pinItButton:!0,url:decodeURIComponent(s.url)||void 0,description:decodeURIComponent(s.description)||void 0}},r=m.f.get(e,"data-pin-id"),r&&(t.set.dataPinId=r),m.f.loadImg(t),m.v.hazLoggedPinItButton||(m.v.hazLoggedPinItButton=!0)))},link:function(e){var t,i;t=e.rel,i=e.href,t&&i&&(t=t.toLowerCase(),"canonical"===t&&(m.v.canonicalUrl||(m.v.canonicalUrl=i)),("icon"===t||"shortcut-icon"===t||"apple-touch-icon"===t)&&(m.v.config.favicon=i))},meta:function(e){var t,i,s,r,n,o;t=m.f.get(e,"content"),i=m.f.get(e,"description"),s=m.f.get(e,"property"),n=m.f.get(e,"http-equiv"),o=m.f.get(e,"content-language"),r=m.f.get(e,"name"),n&&o&&m.f.setLang(o),t&&(r&&"pinterest"===r&&("nopin"===t.toLowerCase()&&(m.v.data.close=i||m.v.msg.noPinMeta),"nohover"===t.toLowerCase()&&(m.v.noHoverMeta=!0),"pinterest-rich-pin"===r&&t.toLowerCase()),s&&("og:image"===s&&(m.v.meta.og.media=t),"og:url"===s&&(m.v.meta.og.url=t),"og:description"===s&&(m.v.meta.og.description=t),"og:title"===s&&(m.v.meta.og.title=t),"pin:media"===s&&(m.v.meta.pinterest.media=t),"pin:url"===s&&(m.v.meta.pinterest.url=t),"pin:description"===s&&(m.v.meta.pinterest.description=t),"pin:id"===s&&(m.v.meta.pinterest.id=t)))}},loadImg:function(e){var t,i;m.v.imgLoadingCount=m.v.imgLoadingCount+1,t=m.d.createElement("IMG"),t.onerror=function(){m.w.clearTimeout(i),m.v.imgLoadingCount=m.v.imgLoadingCount-1},t.onload=function(){var t,s,r,n,o,a;if(m.w.clearTimeout(i),r={},m.v.imgLoadingCount=m.v.imgLoadingCount-1,r.loaded=!0,a=m.f.getDim(this),r.height=a.h,r.width=a.w,r.media=this.src,e.set)if("string"==typeof e.set)r[e.set]=!0,m.v.hazSet[e.set]=!0;else for(t in e.set)r[t]=e.set[t],m.v.hazSet[t]=!0;for(e.url&&m.v.canonicalUrl&&(e.url!==m.v.canonicalUrl?(n=m.v.canonicalUrl.split("/")[2],o=e.url.split("/")[2],n===o?(r.url=e.url,r.linkOffPage=!0):(r.url=e.url,r.via=m.v.canonicalUrl,r.linkOffDomain=!0)):r.isVideo&&(r.isCanonical=!0),m.f.kill(this)),e.description&&(r.description=e.description),m.v.found.unshift(r),t=1,s=m.v.found.length;t<s;t+=1)if(m.v.found[t].media===this.src){r.metaOg?(r.description&&(m.v.found[t].description=r.description),r.url&&(m.v.found[t].url=r.url),m.v.found[t].isCanonical=!0,m.v.found.shift()):m.v.found.splice(t,1);break}},i=m.w.setTimeout(function(){t=null,m.v.imgLoadingCount=m.v.imgLoadingCount-1},m.a.maxWait),t.src=e.media},handlers:{instagram:function(e){e&&e.thumbnail_url&&e.title&&e.html&&(o={media:e.thumbnail_url,set:{url:e.html.split('<a href="')[1].split('"')[0],description:e.title}},m.f.loadImg(o))}},srcSet:function(e){var t=m.f.get(e,"srcset"),i,s,r,n,o="",a=0;if(t&&(i=t.split(","),i.length)){for(s=0;s<i.length;s+=1)n=i[s].replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ").split(" "),n[1]&&(n[1]=n[1].replace(/[^0-9.]/g,"")-0,a<n[1]&&(a=n[1],o=n[0]));o&&(r=o.split("#")[0].split("?")[0].split(".").pop(),m.a.validImageFileType[r]&&!e.getAttribute("data-pin-media")&&e.setAttribute("data-pin-media",o))}},modifiers:{page:[function(){var e,t,i,r=s||m.d.URL;r.match(m.a.pattern.vimeo.page)&&(t=m.d.getElementsByTagName("VIDEO")[0])&&(i=t.parentNode.parentNode.getAttribute("data-thumb"))&&(e={media:i,set:{sourceBump:!0,url:r,description:m.d.title}},m.f.loadImg(e))},function(){var e,t,i,r,n=s||m.d.URL;if(n.match(m.a.pattern.instagram.page))if(n.match(m.a.pattern.instagram.url))r="https://api.instagram.com/oembed?url="+encodeURIComponent(n),m.f.call(r,m.f.handlers.instagram);else for(e=m.d.getElementsByTagName("A"),t=0,i=e.length;t<i;t+=1)e[t].href&&e[t].href.match(m.a.pattern.instagram.url)&&(r="https://api.instagram.com/oembed?url="+encodeURIComponent(e[t].href.split("#")[0].split("?")[0]),m.f.call(r,m.f.handlers.instagram))},function(){var e,t,i,r,n,o,a;if((s||m.d.URL).match(m.a.pattern.amazon.page)){var t=m.d.getElementsByTagName("A");for(i=0,r=t.length;i<r;i+=1)if(t[i].href&&t[i].href.match("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F")){if(e=t[i].href.split("&token=")[0].split("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F"),e[1])try{(n=decodeURIComponent(e[1]))&&(a=m.f.parse("?"+n,{url:!0,media:!0,description:!0}),a.media&&a.url&&a.description&&(a.url=a.url.split("ref%3D")[0],a.description=a.description.split("http")[0],o={media:decodeURIComponent(a.media),set:{sourceBump:!0,url:decodeURIComponent(a.url),description:decodeURIComponent(a.description)}},m.f.loadImg(o)))}catch(e){}break}}},function(){var e,t,i,r,n,o,a,l,u,c=s||m.d.URL;if(u=function(e){var t={};t.media="https://i.ytimg.com/vi/"+e.id+"/hqdefault.jpg",t.url="http://www.youtube.com/watch?v="+e.id,t.set={isVideo:!0,attrib:"youtube",url:t.url,description:m.d.title},e.sourceBump&&(t.set.sourceBump=!0),e.sourceOrder&&(t.set.sourceOrder=e.sourceOrder),m.f.loadImg(t)},c.match(m.a.pattern.youtube.page))for(t=c.split("#")[0].split("?v="),t[1]&&u({id:t[1].split("&")[0],sourceBump:!0}),t=m.d.getElementsByClassName("_mfw"),i=0,r=t.length;i<r;i+=1)if((n=t[i].currentStyle||m.w.getComputedStyle(t[i],!1))&&n.backgroundImage&&"none"!==n.backgroundImage&&(e=n.backgroundImage.split("&")[0].split("="),e[1])){for(o=e[1].split(","),a=o.length-1,l=-1;a>l;a-=1)u({id:o[a],sourceOrder:a});break}},function(){var e,t,i,r,n,o,a,l,u,c;if((s||m.d.URL).match(m.a.pattern.google.page)&&(m.v.doNotSort=!0,e=m.d.getElementById("ires")))for(t=e.getElementsByTagName("A"),i=0,r=t.length;i<r;i+=1)if(a="",media="",t[i].href&&(o=t[i].href.split("imgrefurl="),o[1]&&(a=o[1].split("&")[0]),o=t[i].href.split("imgurl="),o[1]&&(media=o[1].split("&")[0])),a&&media&&(n=t[i].getElementsByTagName("IMG"),n[0]&&(m.f.set(n[0],"data-pin-url",decodeURIComponent(a)),m.f.set(n[0],"data-pin-media",decodeURIComponent(media)))),l=t[i].parentNode.getElementsByTagName("DIV"),l[2]&&(u=l[2].textContent))try{"object"==typeof(c=JSON.parse(u))&&(c.s||c.pt)&&m.f.set(n[0],"data-pin-description",c.s||c.pt)}catch(e){}},function(){(s||m.d.URL).match(m.a.pattern.pinterest.page)&&!0===window.isMainPinterestSite&&(m.v.data.close=m.v.msg.noPinningFromPinterest)},function(){(s||m.d.URL).match(m.a.pattern.facebook.page)&&(m.v.data.close=m.v.msg.noPinDomain.replace(/%noPinDomain%/,"Facebook"))},function(){(s||m.d.URL).match(m.a.pattern.craigslist.page)&&(m.v.data.close=m.v.msg.noPinDomain.replace(/%noPinDomain%/,"Craigslist"))}],img:[function(e,t){if((s||m.d.URL).match(m.a.pattern.itunes.page)){e.description=m.d.title.split(" on the App Store")[0];var i=m.d.getElementById("title");if(i){var r=i.getElementsByTagName("H1"),n=i.getElementsByTagName("H2");if(r[0]&&n[0]){var o=r[0].innerHTML,a=n[0].innerHTML;o&&a&&(a=a.charAt(0).toLowerCase()+a.substr(1),e.description=o+" "+a)}}}},function(e,t){var i,r;(s||m.d.URL).match(m.a.pattern.twitter.page)&&(i=t.parentNode.parentNode)&&"A"===i.tagName&&m.f.get(i,"data-resolved-url-large")&&(e.media=m.f.get(i,"data-resolved-url-large"),e.url=i.href,(r=i.parentNode.parentNode.parentNode.getElementsByClassName("tweet-text")[0])&&"P"===r.tagName&&(e.description=r.innerText))},function(e,t){var i;return i=!1,e.media.match(m.a.pattern.flickr.media)&&(e.getsAttribution=!0,e.attrib="flickr",e.url=m.v.canonicalUrl,i=!0),i},function(e,t){var i,s,r;return i=!1,e.media.match(m.a.pattern["500px"].media)&&(e.getsAttribution=!0,s=e.media.split("#")[0].split("?")[0].split("/"),r=s.pop(),r.match(/.jpg/)&&(e.media=s.join("/")+"/2048.jpg",e.set={getsAttribution:!0,attrib:"fivehundredpx",url:m.v.canonicalUrl},m.f.loadImg(e),i=!0)),i},function(e,t){var i,s;return i=!1,e.media.match(m.a.pattern.youtube.media)&&(s=e.media.split("/")[4],e.media="https://i.ytimg.com/vi/"+s+"/hqdefault.jpg",e.url=m.v.canonicalUrl,e.url.match(m.a.pattern.youtube.page)&&(e.url="https://www.youtube.com/watch?v="+s),e.set={isVideo:!0,attrib:"youtube",url:e.url},m.f.loadImg(e),i=!0),i},function(e,t){var i,s;return i=!1,e.url||(e.url=m.v.canonicalUrl),s=e["data-pin-url"],s&&(delete e["data-pin-url"],e.dataPinUrl=s,e.url=s),s=e["data-pin-id"],s&&(delete e["data-pin-id"],e.dataPinId=s),s=e["data-pin-description"],s&&(delete e["data-pin-description"],e.dataPinDescription=s),s=e["data-pin-media"],s&&(delete e["data-pin-media"],m.f.check.source(s)&&(e.media=s,e.set={dataPinMedia:!0,url:e.url},e.dataPinUrl&&(e.set.dataPinUrl=e.dataPinUrl),e.dataPinDescription&&(e.set.dataPinDescription=e.dataPinDescription),e.dataPinId&&(e.set.dataPinId=e.dataPinId),m.f.loadImg(e),i=!0)),i},function(e,t){var i,r,n=s||m.d.URL;return i=!1,r=t.parentNode,"A"===r.tagName&&r.href&&m.f.check.source(r,!0)&&!n.match(m.a.pattern.wikipedia.page)&&(e.url||(e.url=m.v.canonicalUrl),e.media=r.href,e.set={linkedImg:!0,url:e.url},m.f.loadImg(e),i=!0),i}],meta:[function(){var e,t;return e=!1,m.v.meta.pinterest&&m.v.meta.pinterest.media&&m.f.check.source(m.v.meta.pinterest.media)&&(t={media:m.v.meta.pinterest.media,set:{metaPinterest:!0,url:m.v.meta.pinterest.url||m.v.canonicalUrl,description:m.v.meta.pinterest.description||m.d.title||void 0}},m.v.meta.pinterest.id&&(t.set.dataPinId=m.v.meta.pinterest.id),m.f.loadImg(t),e=!0),e},function(){var e,t;return m.v.meta.og&&m.v.meta.og.media&&m.f.check.source(m.v.meta.og.media)&&(t={media:m.v.meta.og.media,set:{metaOg:!0,url:m.v.meta.og.url||m.v.canonicalUrl,description:m.v.meta.og.description||m.v.meta.og.title||m.d.title||void 0}},m.f.loadImg(t),e=!0),e=!1}]},runMods:function(e,t,i){if(m.f.modifiers[e])for(var s=0;s<m.f.modifiers[e].length&&!m.f.modifiers[e][s](t,i);s+=1);},getTags:function(){var e,t,i,s,r,n,o,a,l,u;for(e in m.a.tag)if(t=m.d.getElementsByTagName(e),i=t.length)for(s=m.a.tag[e],r=0;r<i;r+=1){for("img"===e&&m.f.srcSet(t[r]),n=null,o=0;o<s.length;o+=1)(a=m.f.get(t[r],s[o]))&&(n||(n={}),n[s[o]]=a);n&&"function"==typeof m.f.tag[e]&&m.f.tag[e](t[r])&&"img"===e&&(n.sourceOrder=m.v.sourceOrder,m.v.sourceOrder=m.v.sourceOrder+1,n.src&&(n.media=n.src,delete n.src),m.f.runMods(e,n,t[r]),n.description||(l=n.media.split("/").pop(),u=l.split(".")[0],(n.title===l||n.title===u)&&(n.title=null),(n.alt===l||n.alt===u)&&(n.alt=null),n.description=n.title||n.alt||m.v.meta.pinterest.description||m.v.meta.og.description||m.v.meta.og.title||m.v.title||void 0),m.v.found.push(n))}},arrange:function(){var e,t,i,s,r,n;for(e=0,t=m.v.found.length;e<t;e+=1)n=0,i=m.v.found[e],i.dataPinDescription&&(i.description=i.dataPinDescription),!i.description&&(i.description=c),i.description=i.description.substring(0,497),497===i.description.length&&(i.description=i.description+"..."),"number"==typeof i.naturalHeight&&i.naturalHeight&&(i.height=i.naturalHeight,delete i.naturalHeight),"number"==typeof i.naturalWidth&&i.naturalWidth&&(i.width=i.naturalWidth,delete i.naturalWidth),s=parseInt(i.height),r=parseInt(i.width),r>s&&(r=s),s>3*r&&(s=3*r),n=s*r,i.isCanonical&&(n*=3),(i.dataPinId||i.pinItButton||i.dataPinMedia||i.dataPinUrl||i.metaPinterest)&&(n*=3),i.isVideo&&(n*=3),i.sourceBump&&(n*=3),r<m.a.thumbCellSize&&(n/=2,m.v.hazSet.sourceBump&&(n/=10)),i.metaOg&&t>1&&r<m.a.thumbCellSize&&(n/=100),i.sourceOrder&&(n-=100*i.sourceOrder),i.order=n;if(m.v.found.length&&!m.v.doNotSort){var o=function(e,t){return t.order-e.order};for(m.v.found.sort(o),n=m.v.found[0].order,e=1,t=m.v.found.length;e<t;e+=1)if(m.v.found[e].order<n/m.v.config.quality){m.v.found[e].halt=!0;break}}},log:function(e){},done:function(){var e,t;if(m.v.data.close)m.v.config.quiet||m.w.alert(m.v.data.close);else{for(m.f.arrange(),m.v.data.thumb=m.v.found,e=0,t=m.v.data.thumb.length;e<t;e+=1)m.v.data.thumb[e].src=m.v.data.thumb[e].media,m.v.data.thumb[e].isVideo&&(m.v.data.thumb[e].multimedia=!0);if(m.v.config.share)return m.d.b.setAttribute(m.v.config.share,JSON.stringify(m.v.data)),void(m.v.data.thumb.length||m.v.config.quiet||m.w.alert(m.v.msg.noPinnablesFound));if(m.w[m.v.config.render]&&"function"==typeof m.w[m.v.config.render])return void m.w[m.v.config.render](m.v.data);m.v.defaultBodyOverflow="","function"==typeof m.w.getComputedStyle&&"function"===m.w.getComputedStyle(m.d.b).getPropertyValue&&(m.v.defaultBodyOverflow=m.w.getComputedStyle(m.d.b).getPropertyValue("overflow")),"visible"===m.v.defaultBodyOverflow&&(m.v.defaultBodyOverflow=""),m.d.b.style.overflow="hidden",m.v.data.config=m.v.config,m.v.data.hazExtension=!0;var s=JSON.stringify(m.v.data);m.s.dark=m.f.make({IFRAME:{id:m.a.k+"_grid",src:m.a.grid,frameBorder:"0",style:{display:"block",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",bottom:"0",right:"0",margin:"0",clip:"auto","z-index":"9223372036854775807"}}});var r=function(){m.d.b.style.overflow=m.v.defaultBodyOverflow,m.d.b.removeAttribute(m.a.hazPinningNow),m.f.kill(m.s.dark)},n=(new Date).getTime();m.s.dark.onload=function(){var e=(new Date).getTime()-n;m.v.receiver=m.s.dark.contentWindow,m.v.receiver.postMessage(s,m.s.dark.src),m.f.listen(m.w,"message",function(e){m.w.clearTimeout(m.v.renderFailed),"x"===e.data&&r();try{var t=JSON.parse(e.data);if("object"==typeof t&&void 0!==t.type&&void 0!==t.url&&void 0!==t.name&&void 0!==t.specs&&"sumomeShareCallback"==t.type){var s=m.w.open(t.url,t.name,t.specs);if(i)var n=0,o="object"!=typeof s||null===s,a=setInterval(function(){(o||s.closed||n++>120)&&(o&&alert("Please disable your popup blocker"),clearInterval(a),i())},500)}}catch(e){}}),this.focus()},m.f.set(m.d.b,m.a.hazPinningNow,"true"),m.d.b.appendChild(m.s.dark),m.v.renderFailed=m.w.setTimeout(function(){m.w.alert(m.v.msg.noPinnablesFound),r()},m.a.maxWait)}},setLang:function(e){e&&("object"==typeof m.a.msg[e]?(m.v.msg=m.a.msg[e],m.v.data.msg=m.v.msg):(e=e.split("-")[0],"object"==typeof m.a.msg[e]?(m.v.msg=m.a.msg[e],m.v.data.msg=m.v.msg):(m.v.msg=m.a.msg.en,m.v.data.msg=m.v.msg)))},getLang:function(){var e;(e=m.d.getElementsByTagName("HTML")[0].getAttribute("lang")||"en")&&(e=e.toLowerCase(),m.f.setLang(e))},init:function(){for(var e,t=s||m.d.URL,i=m.d.getElementsByTagName("TITLE"),r=0;r<i.length;r++)c||(c=i[r].textContent);m.d.b=m.d.getElementsByTagName("BODY")[0],m.d.b&&(m.w.getComputedStyle||(m.w.getComputedStyle=function(){return!1}),m.f.get(m.d.b,m.a.hazPinningNow)||(m.d.d=m.d.documentElement,m.d.h=m.d.getElementsByTagName("HEAD")[0],m.v={sourceOrder:0,canonicalUrl:t,src:{},config:{pinMethod:"bookmarklet",quality:m.a.quality,favicon:m.w.location.protocol+"//"+t.split("/")[2]+"/favicon.ico",xv:m.d.b.getAttribute(m.a.xv)},hazSet:{},meta:{og:{},pinterest:{}},imgLoadingCount:0,callbackLoadingCount:0,srcDomain:{},extensionVer:m.f.get(m.d.b,"data-pinterest-extension-installed")||void 0,msg:m.a.msg.en,css:"",data:{blacklistedSource:{},thumb:[]},found:[]},m.f.getLang(),m.f.getConfig(),m.v.data.url=t,m.v.config.pinbox&&(m.v.data.pinbox=m.v.config.pinbox),m.f.check.domain(t)?(m.f.runMods("page"),m.f.getTags(),m.f.runMods("meta"),m.v.safety=m.w.setTimeout(function(){m.v.check&&m.w.clearTimeout(m.v.check),m.f.done()},m.a.maxWait),(e=function(){m.v.imgLoadingCount>0||m.v.callbackLoadingCount>0?m.v.check=m.w.setTimeout(e,100):(m.v.safety&&m.w.clearTimeout(m.v.safety),m.f.done())})()):(m.v.data.close=m.v.msg.noPinDomain,m.f.done())))}}}()};m.f.init()}(a,i,null,null,!0)},priority:97},plurk:{name:"Plurk",url:"http://www.plurk.com/m?content={URL}&qualifier=shares",width:600,height:500,background:"#CF682E",color:"#fff"},pocket:{name:"Pocket",url:"https://getpocket.com/save?url={URL}&title={TEXT}",width:520,height:315,background:"#EE4056",color:"#fff"},printfriendly:{name:"PrintFriendly.com",background:"#9ec36e",foreground:"#fff",javascript:function(){if(window.priFri)window.print();else{var e="";pfstyle="nbk",pfBkVersion="1",e=window.location.href.match(/https/)?"https://pf-cdn.printfriendly.com/ssl/main.js":"http://cdn.printfriendly.com/printfriendly.js",_pnicer_script=document.createElement("SCRIPT"),
_pnicer_script.type="text/javascript",_pnicer_script.src=e+"?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_pnicer_script)}}},printerfriendly:{name:"Printer Friendly",background:"#999",foreground:"#fff",javascript:function(){e(document).printPreview()}},reddit:{name:"Reddit",url:"http://reddit.com/submit?url={URL}&title={TEXT}",width:860,height:500,background:"#ff5700",color:"#fff",method:"json",fetch:"//buttons.reddit.com/button_info.json?url={URL}",parse:function(e){return"data"in e&&"children"in e.data&&e.data.children.length>0?parseInt(e.data.children[0].data.score):0},priority:92},slashdot:{name:"Slashdot",width:600,height:500,background:"#1A5C59",color:"#fff",javascript:function(){var e=document.body;e&&!document.xmlVersion&&(z=document.createElement("script"),z.src="https://images.slashdot.org/slashdot-submission.ssl.js",e.appendChild(z))}},sms:{name:"SMS",url:"sms:?body={TEXT}%0A%0D{URL}",width:600,height:500,background:"#0076ff",color:"#fff",priority:93},soupio:{name:"Soup",url:"",width:450,height:400,background:"#C80813",color:"#fff",javascript:function(){var e=["body","frameset","head"],t=document.location.protocol+"//www.soup.io/",i="soup_bookmarklet_"+Math.floor(1e5*Math.random());window.open(t+"bookmarklet-loading.html",i,"toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400");try{var s=document.createElement("script");s.setAttribute("src",t+"bookmarklet/js/"+i+"/5");for(var r=0;0<e.length;0){var n=document.getElementsByTagName(e[0])[0];if(n){n.appendChild(s);break}}}catch(n){}}},stumbleupon:{name:"StumbleUpon",url:"http://www.stumbleupon.com/submit?url={URL}&title={TEXT}",width:480,height:412,background:"#eb4823",color:"#fff",priority:90},sumome:{name:"SumoMe",url:"",width:600,height:500,background:"#0f52ba",color:"#fff"},tapiture:{name:"Tapiture",url:"http://tapiture.com/widget/tap?url={IMAGE}&title={TEXT}&page_url={URL}&type=image&description=&alt={DESC}&img_title=&img_width=&img_height=",width:600,height:500,background:"#325892",color:"#fff"},techmeme:{name:"Techmeme",filterText:function(e){return function(e,t){var i,s;if(i=e.split(""),i.length>t){for(s=i.length-1;s>-1;--s)if(s>t)i.length=s;else if(" "===i[s]){i.length=s;break}i.push("...")}return i.join("")}(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text=tip+@techmeme:+{TEXT}",width:600,height:445,background:"#1E4B62",color:"#fff"},tinyurl:{name:"TinyURL",url:"http://tinyurl.com/create.php?url={URL}",width:800,height:660,background:"#009",color:"#fff"},tumblr:{name:"Tumblr",url:"http://www.tumblr.com/share?v=3&u={URL}&t={TEXT}",width:450,height:450,background:"#2c4762",color:"#fff",priority:88},twitter:{name:"Twitter",filterText:function(e){return function(e,t){var i,s;if(i=e.split(""),i.length>t){for(s=i.length-1;s>-1;--s)if(s>t)i.length=s;else if(" "===i[s]){i.length=s;break}i.push("…")}return i.join("")}(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text={TEXT}&via={VIA}&related={RELATED}",width:600,height:445,background:"#00aced",color:"#fff",params:{via:{label:"Twitter @username",desc:"Twitter screen name to append to tweets with the via attribute. Do not include @ symbol."},related:{label:"Suggested accounts",desc:"Comma separated list of Twitter accounts to suggest following. Do not include @ symbol or spaces."}},priority:98},typepadpost:{name:"Typepad",url:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={TEXT}&qp_href={URL}&qp_text={DESC}",width:585,height:735,background:"#7A9B5D",color:"#fff"},viadeo:{name:"Viadeo",url:"http://www.viadeo.com/shareit/share/?url={URL}",width:600,height:600,background:"#E46123",color:"#fff"},vk:{name:"VKontakte",url:"http://vk.com/share.php?url={URL}&title={TEXT}",width:660,height:500,background:"#4D76A1",color:"#fff"},wanelo:{name:"Wanelo",width:600,height:500,background:"#518653",color:"#fff",javascript:function(){function e(){window.waneloBookmarklet()}if(window.waneloBookmarklet)e();else{var t=encodeURIComponent(location.href),i=Math.floor(1e3*Math.random()),s=document.createElement("script");s.setAttribute("src","//wanelo.com/bookmarklet/3/setup?*="+i+"&url="+t),s.onload=e,s.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(s)}}},weheartit:{name:"We Heart It",url:"http://weheartit.com/heart-it/new_entry?encoding=utf-8&popup=1&hearting_method=heart_it_button&image_url={IMAGE}&source_url={URL}",width:700,height:500,background:"#FD6B9C",color:"#fff"},whatsapp:{name:"WhatsApp",url:"whatsapp://send?text={TEXT}%20{URL}",width:600,height:500,background:"#1d9e11",color:"#fff",priority:94},wordpressblog:{name:"Wordpress Blog",url:"https://sumo.com/apps/share/wordpress?u={URL}&t={TEXT}&s={DESC}&i={IMAGE}",width:600,height:350,background:"#000",color:"#fff"},wykop:{name:"Wykop",url:"http://www.wykop.pl/dodaj/link/?url={URL}&title={TEXT}&desc={DESC}",width:600,height:500,background:"#4684AD",color:"#fff"},xing:{name:"XING",url:"https://www.xing.com/spi/shares/new?url={URL}",width:600,height:600,background:"#006567",color:"#fff"},yahoomail:{name:"Yahoo! Mail",url:"http://compose.mail.yahoo.com/?subject={TEXT}&body={URL}",width:1160,height:690,background:"#2E147B",color:"#fff"},yammer:{name:"Yammer",url:"https://www.yammer.com/messages/new?login=true&trk_event=yammer_share&status={TEXT} {URL}",width:600,height:350,background:"#1074C3",color:"#fff"},ychackernews:{name:"YC Hacker News",url:"https://news.ycombinator.com/submitlink?u={URL}&t={TEXT}",width:600,height:335,background:"#FC6620",color:"#fff"},yummly:{name:"Yummly",url:"http://www.yummly.com/urb/verify?url={URL}&title={TEXT}&image={IMAGE}",width:600,height:500,background:"#e0601f",color:"#fff",fetch:"//www.yummly.com/services/yum-count?url={URL}",parse:function(e){if("count"in e)return parseInt(e.count);if("error"in e)throw new Error(e.error);return 0},priority:87}},e.shareSortedKeys=Object.keys(e.shareServices);var t=function(t,i){var s="priority"in e.shareServices[t]?e.shareServices[t].priority:0,r="priority"in e.shareServices[i]?e.shareServices[i].priority:0,n=r-s;return 0==n?t<i?-1:1:n};e.shareSortedKeys.sort(t),e.shareShortUrls={},e.share=function(t,i,s){var r=i.url||window.location.href.split("#")[0],n=i.text||e('meta[property="og:title"]').eq(0).attr("content")||e("title").eq(0).text()||document.title,s=s||null,o=e('meta[property="og:image"]').eq(0).attr("content")||e('link[rel="image_src"]').eq(0).attr("href")||"",a=i.noSumoBranding;if("twitter"===t&&e('meta[name="twitter:image"]').length&&(o=e('meta[name="twitter:image"]').eq(0).attr("content")),""==o){var l=0,u=null;e("img").each(function(){var t=e(this).width(),i=e(this).height(),s=1;if(t&&i){s=t>=i?i/t:t/i;var r=t*i*s;r>l&&(l=r,u=e(this))}}),null!=u&&(o=u.get(0).src||"")}var t=t.toLowerCase();if(t in e.shareServices)if("javascript"in e.shareServices[t])if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&"pinterest"!=t){var c=i.shortener+":"+r;c in e.shareShortUrls?(r=e.shareShortUrls[c],e.shareServices[t].javascript(r,n,null,o,function(){s&&s(t,r)})):e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){"success"in a&&a.success&&(e.shareShortUrls[c]=a.url,r=a.url,e.extend(i,a)),e.shareServices[t].javascript(r,n,null,o,function(){s&&s(t,r)})})}else if("pinterest"===t){var h=(document.getElementsByTagName("HTML")[0].getAttribute("lang")||"en").toLowerCase(),m={};e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/pinterest/messages",data:{site_id:i.siteId,language:h},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){void 0!==a.success&&a.success&&void 0!==a.messages?m[h]=a.messages:m[h]={noPinDomain:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",noPinMeta:"Sorry, pinning is not allowed from this page. Please contact the site operator if you have any questions.",noPinnablesFound:"Sorry, couldn't find any pinnable things on this page.",noPinningFromPinterest:"Oops! That button doesn't work on Pinterest. Try using the red Pin It button at the top of any Pin.",choosePin:"Choose a Pin to save"},e.shareServices[t].javascript(i.sumoUrl,m,r,n,null,o,function(){s&&s(t,r)})})}else e.shareServices[t].javascript(r,n,null,o,function(){s&&s(t,r)});else{var p=e.shareServices[t].url,f=e.shareServices[t].width,d=e.shareServices[t].height,g="sumomeShare-"+4294967296*Math.random();if(p){var v=["pinterest","reddit","stumbleupon","yummly"];if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&v.indexOf(t)<0){var c=i.shortener+":"+r;c in e.shareShortUrls?(r=e.shareShortUrls[c],e.shareWindow(t,i,p,n,r,o,a,g,s)):("http"==p.toLowerCase().substring(0,4)&&window.open("facebook"==t?"":i.sumoUrl+"/apps/share/loading",g,"height="+d+",width="+f+",location=0,menubar=0,status=0,titlebar=0,toolbar=0"),e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(l){"success"in l&&l.success&&(e.shareShortUrls[c]=l.url,r=l.url,e.extend(i,l)),e.shareWindow(t,i,p,n,r,o,a,g,s)}))}else e.shareWindow(t,i,p,n,r,o,a,g,s)}}},e.shareWindow=function(t,i,s,r,n,o,a,l,u){if("filterText"in e.shareServices[t]&&(r=e.shareServices[t].filterText(r)),s=s.replace(/{URL}/g,encodeURIComponent(n)),s=s.replace("{TEXT}",encodeURIComponent(r)),s=s.replace("{DESC}",""),s=s.replace("{IMAGE}",encodeURIComponent(o)),s=s.replace("{PROMO}",a?"":"%0A%0A%0AShared%20by%20Sumo%20%28%20http%3A%2F%2Fsumo.com%2F%20%29"),"params"in e.shareServices[t])for(var c in e.shareServices[t].params)if(c in i&&i[c])s=s.replace("{"+c.toUpperCase()+"}",encodeURIComponent(i[c]));else if("twitter"!==t||"via"!==c&&"related"!==c||!e('meta[name="twitter:site"]').length&&!e('meta[name="twitter:creator"]').length)s=s.replace("&"+c+"={"+c.toUpperCase()+"}","");else{var h=e('meta[name="twitter:site"]').eq(0).attr("content")||"",m=e('meta[name="twitter:creator"]').eq(0).attr("content")||"",p=h&&m&&h!==m,f;"@"===h.substr(0,1)&&(h=h.substr(1)),"@"===m.substr(0,1)&&(m=m.substr(1)),f="via"===c?p?h+" @"+m:h||m:p?h+","+m:m||h,s=s.replace("{"+c.toUpperCase()+"}",encodeURIComponent(f))}if("sms:?"==s.toLowerCase().substring(0,5)&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(s=s.replace(/sms:(\+?([0-9]*))?\?/,"sms:$1&")),"http"!=s.toLowerCase().substring(0,4)){var d=document.createElement("a");if(d.href=s,document.body.appendChild(d),"FastClick"in window&&window.FastClick)window.location.href=s;else if(d.click)d.click();else if(document.createEvent){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window),d.dispatchEvent(g)}document.body.removeChild(d),u&&u(t,n)}else{var v=e.shareServices[t].width,y=e.shareServices[t].height,b=window.open(s,l,"height="+y+",width="+v+",location=0,menubar=0,status=0,titlebar=0,toolbar=0");if(u)var w=0,_=setInterval(function(){(b.closed||w++>120)&&(clearInterval(_),u(t,n))},500)}},e.shareFetch=function(t,i,s){var s=s||null,i=i||window.location.href.split("#")[0];"function"==typeof i&&(s=i,i=window.location.href.split("#")[0]);var t=t.toLowerCase();if(t in e.shareServices&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t])try{var r="jsonp";if("method"in e.shareServices[t]&&(r=e.shareServices[t].method),"json"==r)e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(r){try{var n=e.shareServices[t].parse(r);null!==s&&s(null,i,n)}catch(e){null!==s&&s(e)}},error:function(e){null!==s&&s(e)}});else{if("jsonproxy"==r)return s(null,i,0);if("jsonp"==r)e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",cache:!1,success:function(r){try{var n=e.shareServices[t].parse(r);null!==s&&s(null,i,n)}catch(e){null!==s&&s(e)}},error:function(e){null!==s&&s(e)}});else if("googleplus"==r)e.ajax({type:"POST",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",cache:!1,data:JSON.stringify({method:"pos.plusones.get",id:"p",params:{nolog:!0,id:i,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}),success:function(r){try{var n=e.shareServices[t].parse(r);null!==s&&s(null,i,n)}catch(e){null!==s&&s(e)}},error:function(e){null!==s&&s(e)}});else if("linkedin"==r){for(var n="linkedinjsonpcallback",o=0;o<6;o++)n+=String.fromCharCode(Math.floor(26*Math.random())+97);e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",jsonpCallback:n,cache:!1,success:function(r){try{var n=e.shareServices[t].parse(r);null!==s&&s(null,i,n)}catch(e){null!==s&&s(e)}},error:function(e){null!==s&&s(e)}})}}}catch(e){null!==s&&s(e)}else null!==s&&s(new Error("Invalid service"))}}),sumo.define("jquery.style",["jquery"],function(e){if(!e.fn.style){var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,i,s){this.setAttribute(e,i);var s=void 0!==s?s:"";if(""!=s){var r=new RegExp(t(e)+"\\s*:\\s*"+t(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(r,e+": "+i+" !"+s+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),e.fn.style=function(e,t,i){if(void 0===this.get(0))return this;var s=this.get(0).style;return void 0!==e?void 0!==t?(i="important"==i?i:"","important"!=i&&"important"==s.getPropertyPriority(e)&&s.removeProperty(e),s.setProperty(e,t,i),this):s.getPropertyValue(e):s}}}),sumo.define("insQ",[],function(){return function(){"use strict";function e(e,t){var s,r="insQ_"+o++,n=function(e){e.animationName!==r&&e[l]!==r||i(e.target)||t(e.target)};s=document.createElement("style"),s.innerHTML="@"+u+"keyframes "+r+" {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }\n"+e+" { animation-duration: 0.001s; animation-name: "+r+"; "+u+"animation-duration: 0.001s; "+u+"animation-name: "+r+";  } ",document.head.appendChild(s);var a=setTimeout(function(){document.addEventListener("animationstart",n,!1),document.addEventListener("MSAnimationStart",n,!1),document.addEventListener("webkitAnimationStart",n,!1)},p.timeout);return{destroy:function(){clearTimeout(a),s&&(document.head.removeChild(s),s=null),document.removeEventListener("animationstart",n),document.removeEventListener("MSAnimationStart",n),document.removeEventListener("webkitAnimationStart",n)}}}function t(e){e.QinsQ=!0}function i(e){return p.strictlyNew&&!0===e.QinsQ}function s(e){var t=e.parentNode;return t?i(t)?e:s(t):e}function r(e){for(t(e),e=e.firstChild;e;e=e.nextSibling)void 0!==e&&1===e.nodeType&&r(e)}function n(n,o){var a=[],l=function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){a.forEach(r),o(a),a=[]},10)}}();return e(n,function(e){if(!i(e)){t(e);var r=s(e);a.indexOf(r)<0&&a.push(r),l()}})}var o=100,a=!1,l="animationName",u="",c="Webkit Moz O ms Khtml".split(" "),h="",m=document.createElement("div"),p={strictlyNew:!0,timeout:20};if(m.style.animationName&&(a=!0),!1===a)for(var f=0;f<c.length;f++)if(void 0!==m.style[c[f]+"AnimationName"]){h=c[f],l=h+"AnimationName",u="-"+h.toLowerCase()+"-",a=!0;break}var d=function(t){return!(!a||!t.match(/[^{}]/))&&(p.strictlyNew&&r(document.body),{every:function(i){return e(t,i)},summary:function(e){return n(t,e)}})};return d.config=function(e){for(var t in e)e.hasOwnProperty(t)&&(p[t]=e[t])},d}()}),sumo.define("debounce",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,i,s,r){function n(){function e(){a=+new Date,s.apply(l,c)}function n(){o=void 0}var l=this,u=+new Date-a,c=arguments;r&&!o&&e(),o&&clearTimeout(o),void 0===r&&u>t?e():!0!==i&&(o=setTimeout(r?n:e,void 0===r?t-u:t))}var o,a=0;return"boolean"!=typeof i&&(r=s,s=i,i=void 0),e.guid&&(n.guid=s.guid=s.guid||e.guid++),n},e.debounce=function(e,i,s){return void 0===s?t(e,i,!1):t(e,s,!1!==i)}}),sumo.define("jquery.styleBuffer",["jquery","insQ","jquery.style","debounce"],function(e,t){e.expr[":"].notonpage=e.expr.createPseudo(function(t){return function(t){if("hidden"==e(t).css("visibility")||0==e(t).css("opacity")||"none"==e(t).css("display")||e(t).offset().top>=e(window).height()||e(t).offset().right<=0||e(t).offset().left>=e(window).width()||e(t).offset().left<=-e(t).width()||e(t).offset().bottom<=0)return!0;var i=e(t).parent();return!!i&&i.is(":notonpage")}}),e.fn.removeStyleBuffer=function(t,i){var s=this;return s.each(function(){var s=e(this).data(t+"-buffer-"+i),r=e(this).data(t+"-buffer-"+i+"-priority");e(this).style(t+"-"+i,void 0==s?"":s,void 0==r?"":r)}),e.each(e.fn.styleBuffer._groups,function(e,t){t.elements=t.elements.not(s)}),this},e.fn.styleBufferPage=function(t){var t=t||e("*"),i=e("[data-sumome-stylebuffer-page]"),s=i.length*e(window).height();return i.length>0?($fixed=t.not(i).not("body, html").filter(function(){if(e(this).is("[data-sumome-stylebuffer-page-fixed], #sumome-modal-mask, .sumome-control, .sumome-dialog-popup, .sumome-dialog-popup-overlay, .sumome-blockui, .sumome-block-overlay, .sumome-sp-container"))return!1;var t=e(this).css("position");if("fixed"===t)return!0;if("absolute"!==t)return!1;var i=e(this).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});if(!i||!i.length)return!0;if(e(this).parents("[data-sumome-stylebuffer-page]").length>0)return!1;if(!e(this).parent().is("body,html"))return!1;var r=e(this).position().top;return r<=s&&r>-2e3}),$fixed.each(function(){e(this).attr("data-sumome-stylebuffer-page-fixed",!0);for(var t=["","-webkit","-ms","-moz","-o"],i=0;i<t.length;i++){var s=t[i];e(this).data("sumome-stylebuffer-original"+s+"-transform",e(this).style(s+(s?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+s+"-transform-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration",e(this).style(s+(s?"-":"")+"transition-duration")),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"transition-duration")),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode",e(this).style(s+(s?"-":"")+"animation-fill-mode")),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"animation-fill-mode")),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration",e(this).style(s+(s?"-":"")+"animation-duration")),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"animation-duration"))}for(var i=0;i<t.length;i++){var s=t[i];e(this).style(s+(s?"-":"")+"transition-duration","0s","important"),e(this).style(s+(s?"-":"")+"transform","scale(0,0)","important"),e(this).style(s+(s?"-":"")+"animation-fill-mode","none","important"),e(this).style(s+(s?"-":"")+"animation-duration","0s","important")}e(this).is("iframe")&&(e(this).data("sumome-stylebuffer-original-display",e(this).style("display")),e(this).data("sumome-stylebuffer-original-display-priority",e(this).style().getPropertyPriority("display")),e(this).style("display","none","important"))})):e("[data-sumome-stylebuffer-page-fixed]").each(function(){for(var t=["","-webkit","-ms","-moz","-o"],i=0;i<t.length;i++){var s=t[i];e(this).style(s+(s?"-":"")+"transform",e(this).data("sumome-stylebuffer-original"+s+"-transform"),e(this).data("sumome-stylebuffer-original"+s+"-transform-priority")),e(this).style(s+(s?"-":"")+"animation-fill-mode",e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode"),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode-priority")),e(this).style(s+(s?"-":"")+"animation-duration",e(this).data("sumome-stylebuffer-original"+s+"-animation-duration"),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration-priority")),setTimeout(e.proxy(function(){e(this).style(s+(s?"-":"")+"transition-duration",e(this).data("sumome-stylebuffer-original"+s+"-transition-duration"),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration-priority"))},this),0)}e(this).is("iframe")&&e(this).style("display",e(this).data("sumome-stylebuffer-original-display"),e(this).data("sumome-stylebuffer-original-display-priority")),e(this).removeAttr("data-sumome-stylebuffer-page-fixed")}),i},e.fn.styleBufferTop=function(t){t?e.fn.styleBufferTop._debounceInit(t):e.fn.styleBufferTop._init(t)},e.fn.styleBufferTop._init=function(t){function i(){var t=document.getElementById("sumome-smartbar-popup");if(t){var i=t.getBoundingClientRect(),s=i.height;i.bottom>0&&(s=i.height-i.bottom),e.fn.styleBufferTop.stackedElements.each(function(t,i){e(i).css("marginTop",e(i).data("sumome-stylebuffertop-original-margin")-s)}),e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).css("position",e(i).data("sumome-stylebuffertop-original-position")),e(i).css("top",e(i).data("sumome-stylebuffertop-original-top")-s)})}}var s=e.fn.styleBufferPage(),r=s.length*e(window).height();if(t)var n=e("[data-sumome-stylebuffer-top]");else var n=e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]");var o=0;n.sort(function(t,i){return t=e(t).data("sumome-stylebuffer-top"),i=e(i).data("sumome-stylebuffer-top"),t<i?-1:t>i?1:0}),e.fn.styleBufferTop._groups=[];var a=e("body"),l=e("#sumome-smartbar-popup[data-sumome-stylebuffer-top]"),u=0,c=!1;if(e.fn.styleBufferTop.stackedElements=e(n).not("#sumome-smartbar-popup"),l&&l.data("sumome-smartbar-config")&&(u=l.outerHeight(),c=l.data("sumome-smartbar-config").show_type),e(n).each(function(t,i){e.fn.styleBuffer._apply(e(i),"margin","top",o,!0),e.fn.styleBufferTop._groups.push({elements:e(i),prop:"margin",side:"top",px:o,force:!0}),void 0===e(i).data("sumome-stylebuffertop-original-margin")&&e(i).data("sumome-stylebuffertop-original-margin",o),o+=e(i).height()}),void 0===a.data("sumome-stylebuffertop-original-margintop")?(void 0===a.data("sumome-welcomemat-original-padding-top")?a.data("sumome-stylebuffertop-original-paddingtop",parseInt(a.css("paddingTop"))):a.data("sumome-stylebuffertop-original-paddingtop",parseInt(a.data("sumome-welcomemat-original-padding-top"))),a.data("sumome-stylebuffertop-original-margintop",parseInt(a.css("marginTop")))):(a.css("marginTop",a.data("sumome-stylebuffertop-original-margintop")),a.css("paddingTop",a.data("sumome-stylebuffertop-original-paddingtop")+"px !important")),e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,i){if(e(i).data("sumome-stylebuffertop-original-offset")){var s=e(i).data("sumome-stylebuffertop-has-inline").top,r=e(i).data("sumome-stylebuffertop-has-inline").bottom,n=e(i).data("sumome-stylebuffertop-has-inline").left,o=e(i).data("sumome-stylebuffertop-has-inline").right,a=e(i).data("sumome-stylebuffertop-has-inline").position,l=e(i).style("right"),u=e(i).position().right,c=e(i).data("sumome-stylebuffertop-original-offset").right,h=e(i).style("left"),m=e(i).position().left,p=e(i).data("sumome-stylebuffertop-original-offset").left;e(i).style("top",e(i).data("sumome-stylebuffertop-original-offset").top),e(i).style("bottom",e(i).data("sumome-stylebuffertop-original-offset").bottom),l!==c&&u>0&&e(i).style("right",c),parseInt(p)>-2e3&&h!==p&&m<e(window).width()&&e(i).style("left",p),s||(e(i)[0].style.top=""),o||(e(i)[0].style.right=""),n||(e(i)[0].style.left=""),r||(e(i)[0].style.bottom=""),a||(e(i)[0].style.position="")}else e(i).style("top","0px")}),!t){!1===e.fn.styleBufferTop.classFixedElements&&(e.fn.styleBufferTop.classFixedElements=e(".fixed").not(n).length);var h=[".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay",".sumome-image-sharer",".sumome-contactform-left-page-hidden",".sumome-contactform-right-page-hidden"];e.fn.styleBufferTop.oldTopElements=e("*").not(n).not(s).filter(function(t,i){var s=["absolute","fixed"].indexOf(e(i).css("position"))>=0&&e(i).position().top<o&&e(i).position().top>-2e3&&e(i).height()+e(i).position().top>0&&"sumome-modal-mask"!=e(i).attr("id")&&!e(i).is(h.join(","))&&!e(i).parent().is("#parallax-images");if(s&&void 0===e(i).data("sumome-stylebuffertop-original-position")){e(i).data("sumome-stylebuffertop-original-position",e(i).css("position"));var r={top:""!==e(i)[0].style.top,left:""!==e(i)[0].style.left,right:""!==e(i)[0].style.right,bottom:""!==e(i)[0].style.bottom,position:""!==e(i)[0].style.position},n={top:e(i).css("top"),left:e(i).css("left"),bottom:e(i).css("bottom"),right:e(i).css("right")};"auto"!=n.bottom&&parseFloat(n.bottom)>0&&(n.bottom=parseFloat(n.bottom)-o+"px"),e(i).data("sumome-stylebuffertop-original-offset",n),e(i).data("sumome-stylebuffertop-has-inline",r)}return s}),e.fn.styleBufferTop.oldTopElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,i){if("fixed"==e(i).css("position"))return!0;var s=e(i).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});return!(s&&s.length)}),e.fn.styleBufferTop.bumpDownElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,i){var s=!1;return"fixed"==e(i).css("position")||(e(i).parents().each(function(t,i){if(!e(i).is("body,html")&&["relative","absolute"].indexOf(e(i).css("position"))>=0)return s=!0,!1}),!s)}),e.fn.styleBufferTop.changePositionElements=e.fn.styleBufferTop.bumpDownElements.filter(function(t,i){var s=!1;return"fixed"==e(i).css("position")&&(e(i).parents().each(function(t,i){if(!e(i).is("body,html")&&["relative","absolute","fixed"].indexOf(e(i).css("position"))>=0)return s=!0,!1}),s&&e(i).data("sumome-stylebuffertop-offset",{top:e(i).offset().top-e(window).scrollTop(),left:e(i).offset().left-e(window).scrollLeft()}),s)})}"smart"==c&&(e.fn.styleBufferTop.oldTopElements.addClass("sumome-smartbar-fixedTopSmart"),e(n).not("#sumome-smartbar-popup").style("transition","margin-top .2s ease-in-out"),a.style("transition","margin-top .2s ease-in-out")),"static"==c?(e.fn.styleBufferTop.bumpDownElements&&e.fn.styleBufferTop.bumpDownElements.length&&(e.fn.styleBufferTop.bumpDownElements.each(function(t,i){var s=!1;if(e.inArray(i,e.fn.styleBufferTop.changePositionElements)>=0){s=!0;var r=e(i).offset()}e(i).style("position","absolute"),s?(e(i).data("sumome-smartbar-new-offset",{top:u+r.top-e(i).offset().top,left:r.left-e(i).offset().left}),e(i).style("top",e(i).data("sumome-smartbar-new-offset").top+"px"),e(i).data("sumome-smartbar-new-offset").left!==parseInt(e(i).data("sumome-stylebuffertop-original-offset").left)&&parseInt(e(i).data("sumome-stylebuffertop-original-offset").left)>e(window).width()&&e(i).style("left",e(i).data("sumome-smartbar-new-offset").left+"px")):e(i).style("top",o+"px"),e(i).data("sumome-stylebuffertop-original-top",o)}),e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).css("position",e(i).data("sumome-stylebuffertop-original-position"))})),e(window).scroll(i),i()):(e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).data("sumome-stylebuffertop-original-offset")&&("auto"==e(i).data("sumome-stylebuffertop-original-offset").top||e(i).style("top",o+parseFloat(e(i).data("sumome-stylebuffertop-original-offset").top)+"px"))}),"fixed"==c&&e(window).scroll(function(){var t=60,i=e(window).scrollTop();e.fn.styleBufferTop.classFixedElements!==e.fn.styleBufferTop.classFixedElementsScroll&&(i>=60&&!1===e.fn.styleBufferTop.classFixedElementsScroll?e.fn.styleBufferTop.classFixedElementsScroll=e(".fixed").not(n).length:i>=60&&!e.fn.styleBufferTop.checkScrollDown?(e.fn.styleBufferTop.checkScrollDown=!0,e.fn.styleBufferTop.checkScrollUp=!1,e("body").styleBufferTop()):i<60&&!e.fn.styleBufferTop.checkScrollUp&&(e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e("body").styleBufferTop()))}));var l=e("#sumome-smartbar-popup");if(l&&l.data("sumome-smartbar-config")&&"smart"==l.data("sumome-smartbar-config").show_type&&(o=0,e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]").each(function(){o+=e(this).outerHeight()})),e.fn.styleBufferTop.totalOffset=o,o+=a.data("sumome-stylebuffertop-original-paddingtop")+a.data("sumome-stylebuffertop-original-margintop"),o+r!==0?(e.fn.styleBuffer._apply(a,"padding","top",o+r,!0,"important"),e.fn.styleBuffer._apply(a,"margin","top",0,!0,"important"),e.fn.styleBufferTop._groups.push({elements:a,prop:"padding",side:"top",px:o+r,force:!0,priority:"important"}),e.fn.styleBufferTop._groups.push({elements:a,prop:"margin",side:"top",px:0,force:!0,priority:"important"})):(a.removeStyleBuffer("padding","top"),a.removeStyleBuffer("margin","top")),"bugfix"!=a.css("-webkit-animation-name")&&"androidbugfix"!=a.css("-webkit-animation-name")||(e("[data-sumome-stylebuffertop-bugfix]").length&&e("[data-sumome-stylebuffertop-bugfix]").remove(),a.append("<style data-sumome-stylebuffertop-bugfix>@-webkit-keyframes sumome-bugfix { from { fill: 0; } to { fill: 0; } }</style>"),a.css("-webkit-animation","sumome-bugfix infinite 1s")),void 0===a.data("sumome-stylebuffertop-original-bgposition")&&(a.data("sumome-stylebuffertop-original-bgposition",a.css("backgroundPosition")),a.data("sumome-stylebuffertop-original-bgpositiony",a.css("backgroundPositionY")),a.data("sumome-stylebuffertop-original-bgrepeat",a.css("backgroundRepeat"))),("50% 0%"==a.data("sumome-stylebuffertop-original-bgposition")&&"no-repeat"==a.data("sumome-stylebuffertop-original-bgrepeat")||"0% 0%"==a.data("sumome-stylebuffertop-original-bgposition")&&"repeat-x"==a.data("sumome-stylebuffertop-original-bgrepeat"))&&a.css("backgroundPositionY",o),/^50% [0-9]+px, 0% [0-9]+px$/.test(a.data("sumome-stylebuffertop-original-bgposition"))&&/^no-repeat/.test(a.data("sumome-stylebuffertop-original-bgrepeat"))){var m=a.data("sumome-stylebuffertop-original-bgpositiony").split(", ");a.css("backgroundPositionY",parseInt(m[0])+o+"px, "+(parseInt(m[1])+o)+"px")}return this},e.fn.styleBufferTop._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferTop._init(t)}),e.fn.styleBufferBottom=function(t){t?e.fn.styleBufferBottom._debounceInit(t):e.fn.styleBufferBottom._init(t)},e.fn.styleBufferBottom._init=function(t){var i=e("[data-sumome-stylebuffer-page]");if(t)var s=e("[data-sumome-stylebuffer-bottom]");else var s=e("[data-sumome-stylebuffer-bottom],[data-sumome-stylebuffer-bottom-stash]");var r=0;s.sort(function(t,i){return t=e(t).data("sumome-stylebuffer-bottom"),i=e(i).data("sumome-stylebuffer-bottom"),t<i?-1:t>i?1:0}),e.fn.styleBufferBottom._groups=[];var n=e("body"),o=e("#sumome-smartbar-popup[data-sumome-stylebuffer-bottom]"),a=0,l=!1;if(e.fn.styleBufferBottom.stackedElements=e(s).not("#sumome-smartbar-popup"),o&&o.data("sumome-smartbar-config")&&(a=o.outerHeight(),l=o.data("sumome-smartbar-config").show_type),e(s).each(function(t,i){e(i).data("sumome-stylebufferbottom-offsety")&&(r+=e(i).data("sumome-stylebufferbottom-offsety")),e.fn.styleBuffer._apply(e(i),"top","top","auto",!0),e.fn.styleBuffer._apply(e(i),"bottom","bottom",r,!0),e.fn.styleBufferBottom._groups.push({elements:e(i),prop:"top",side:"top",px:"auto",force:!0}),e.fn.styleBufferBottom._groups.push({elements:e(i),prop:"bottom",side:"bottom",px:r,force:!0}),void 0===e(i).data("sumome-stylebufferbottom-original-bottom")&&e(i).data("sumome-stylebufferbottom-original-bottom",r),r+=e(i).height()}),void 0===n.data("sumome-stylebufferbottom-original-marginbottom")?(n.data("sumome-stylebufferbottom-original-marginbottom",parseInt(n.css("marginBottom"))),
n.data("sumome-stylebufferbottom-original-paddingbottom",parseInt(n.css("paddingBottom")))):(n.css("marginBottom",n.data("sumome-stylebufferbottom-original-marginbottom")),n.css("paddingBottom",n.data("sumome-stylebufferbottom-original-paddingbottom"))),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,i){if(e(i).data("sumome-stylebufferbottom-original-offset")){var s=e(i).data("sumome-stylebufferbottom-has-inline").top,r=e(i).data("sumome-stylebufferbottom-has-inline").bottom,n=e(i).data("sumome-stylebufferbottom-has-inline").left,o=e(i).data("sumome-stylebufferbottom-has-inline").right,a=e(i).data("sumome-stylebufferbottom-has-inline").position;e(i).style("position",e(i).data("sumome-stylebufferbottom-original-position")),e(i).style("top",e(i).data("sumome-stylebufferbottom-original-offset").top),e(i).style("bottom",e(i).data("sumome-stylebufferbottom-original-offset").bottom),e(i).style("left",e(i).data("sumome-stylebufferbottom-original-offset").left),e(i).style("right",e(i).data("sumome-stylebufferbottom-original-offset").right),s||(e(i)[0].style.top=""),o||(e(i)[0].style.right=""),n||(e(i)[0].style.left=""),r||(e(i)[0].style.bottom=""),a||(e(i)[0].style.position="")}else e(i).style("bottom","0px")}),!t){var u=["#sumome-modal-mask",".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay"],c=["sumome-react-form-tab-bottom-left","sumome-react-form-tab-bottom-center","sumome-react-form-tab-bottom-right"];e.fn.styleBufferBottom.oldBottomElements=e("*").not(s).not(i).filter(function(t,i){var s=["absolute","fixed"].indexOf(e(i).css("position"))>=0&&parseInt(e(i).css("bottom"))<r&&!e(i).is(u.join(","));return e(i).is(c.join(","))&&(s=!0),s&&void 0===e(i).data("sumome-stylebufferbottom-original-position")&&(e(i).data("sumome-stylebufferbottom-original-position",e(i).css("position")),e(i).data("sumome-stylebufferbottom-original-offset",{top:e(i).css("top"),left:e(i).css("left"),bottom:e(i).css("bottom"),right:e(i).css("right")}),e(i).data("sumome-stylebufferbottom-has-inline",{top:""!==e(i)[0].style.top,left:""!==e(i)[0].style.left,right:""!==e(i)[0].style.right,bottom:""!==e(i)[0].style.bottom,position:""!==e(i)[0].style.position})),s});var h=e(window).height();e.fn.styleBufferBottom.oldBottomElements=e.fn.styleBufferBottom.oldBottomElements.filter(function(t,i){if(e(i).is(c.join(",")))return!0;if(e(i).height()>=h)return!1;if("fixed"===e(i).css("position"))return!e(i).is(":notonpage");if("absolute"===e(i).css("position")&&e(i).is(":notonpage"))return!1;var s=e(i).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});return!(s&&s.length)})}return"smart"==l&&e(s).not("#sumome-smartbar-popup").style("transition","bottom .2s ease-in-out"),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,i){e(i).style("bottom",r+parseFloat(e(i).data("sumome-stylebufferbottom-original-offset").bottom)+"px"),r+=0===r||"fixed"===e(i).style("position")?0:e(i).height()}),e.fn.styleBufferBottom.totalOffset=r,r+=n.data("sumome-stylebufferbottom-original-paddingbottom")+n.data("sumome-stylebufferbottom-original-marginbottom"),e(".sumome-stylebufferbottom-shim").length||e('<div class="sumome-stylebufferbottom-shim" />').appendTo(n),e(".sumome-stylebufferbottom-shim").height(r),this},e.fn.styleBufferBottom._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferBottom._init(t)}),e.fn.styleBuffer=function(t,i,s){return this.length<1?this:(e.fn.styleBuffer._groups.push({elements:this,prop:t,side:i,px:s,force:!1}),e.fn.styleBuffer._apply(this,t,i,s,!1),this)},e.fn.styleBuffer._apply=function(t,i,r,n,o,a){return e(t).each(function(){var t=e(this);if(i==r)t.style(i,n+("auto"!=n?"px":""),void 0==a?"":a);else{var l=t.data(i+"-buffer-"+r),u=t.data(i+"-buffer-"+r+"-priority");if(void 0==l?(l=t.style(i+"-"+r),u=t.style().getPropertyPriority(i+"-"+r),t.data(i+"-buffer-"+r,void 0==l?"":l),t.data(i+"-buffer-"+r+"-priority",void 0==u?"":u)):e(this).style(i+"-"+r,l,void 0==u?"":u),o)t.style(i+"-"+r,n+"px",void 0==a?"":a);else{var c=s(t.css(i+"-"+r));t.style(i+"-"+r,Math.max(c,n)+"px",void 0==a?"":a)}}}),this},e.fn.styleBuffer.smartHide=function(t,i){if(!e.fn.styleBuffer.firedSmartHide){if(e.fn.styleBuffer.firedSmartHide=!0,e.fn.styleBuffer.firedSmartShow=!1,i)var s=e.fn.styleBufferTop,r=s.oldTopElements,n="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",a="sumome-stylebuffertop-original-position",l="top",u="marginTop";else{var s=e.fn.styleBufferBottom,r=s.oldBottomElements,n="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",a="sumome-stylebufferbottom-original-position",l="bottom",u="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("-="+t)}r&&r.length&&r.each(function(i,r){if(e(r).data(o)){if("fixed"==e(r).data(a))var n=s.totalOffset-t;else var n=t+parseFloat(e(r).data(o).top);e(r).style(l,n+"px")}else e(r).style(l,"0px")}),s.stackedElements&&s.stackedElements.length&&s.stackedElements.each(function(i,s){e(s).css(u,e(s).data(n)-t)})}},e.fn.styleBuffer.smartShow=function(t,i){if(!e.fn.styleBuffer.firedSmartShow){if(e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!0,i)var s=e.fn.styleBufferTop,r=s.oldTopElements,n="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",a="top",l="marginTop";else{var s=e.fn.styleBufferBottom,r=s.oldBottomElements,n="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",a="bottom",l="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("+="+t)}r&&r.length&&r.each(function(i,r){e(r).data(o)?e(r).style(a,s.totalOffset+"px"):e(r).style(a,t+"px")}),s.stackedElements&&s.stackedElements.length&&s.stackedElements.each(function(t,i){e(i).css(l,e(i).data(n))})}},e.fn.styleBuffer._groups=[],e.fn.styleBuffer._throttle=80,e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!1,e.fn.styleBufferTop._groups=[],e.fn.styleBufferTop.stackedElements=null,e.fn.styleBufferTop.oldTopElements=null,e.fn.styleBufferTop.bumpDownElements=null,e.fn.styleBufferTop.changePositionElements=null,e.fn.styleBufferTop.totalOffset=0,e.fn.styleBufferTop.checkedScrollDown=!1,e.fn.styleBufferTop.classFixedElements=!1,e.fn.styleBufferTop.classFixedElementsScroll=!1,e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e.fn.styleBufferBottom._groups=[],e.fn.styleBufferBottom.stackedElements=null,e.fn.styleBufferBottom.oldBottomElements=null,e.fn.styleBufferBottom.totalOffset=0;var i=-1;e.fn.styleBuffer._update=e.debounce(150,!0,function(t){if(t&&"resize"===t.type){var s=e(window).width();if(s===i)return;i=s}e.each(e.fn.styleBuffer._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)}),e.fn.styleBufferTop._groups.length&&(e("body").styleBufferTop(!0),e.each(e.fn.styleBufferTop._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),e.fn.styleBufferBottom._groups.length&&(e("body").styleBufferBottom(!0),e.each(e.fn.styleBufferBottom._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),e(window).trigger("resize.sumome-welcomemat")}),e(window).bind("load resize orientationchange",function(t){t&&"resize"==t.type&&t.target!=window||e.fn.styleBuffer._update(t)}),t.config({strictlyNew:!1}),t("#menufication-top").every(e.proxy(function(t){e("body").styleBufferTop()},this));var s=function(e){return parseFloat(e)||0}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(i,s,r,n){function o(e,t,i,s){var r=[];if(e&&e.length)for(var n=0;n<e.length;n++){var o=e[n];if("object"==typeof o&&o.hasOwnProperty(t)&&o[t]==i&&(r.push(o),s))return r[0]}return s?null:r}if(i&&i.length){var a=o(i,"filter_type","article",!0),l=[];a&&(l=e.articles()),r||(r=!1);var u=function(e){for(var t=Object.keys(e),i=t.length,s=Array(i),r=0;r<i;r++)s[r]=[t[r],e[t[r]]];return s},c=function(e){var t=u(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var s=0;s<i;s++){var r=t[s],n=r[0];if(r[1]!==e[n]||!(n in e))return!1}return!0}},h=function(e){var e=e.substr(1).split("&");if(""==e)return{};for(var t={},i=0;i<e.length;++i){var s=e[i].split("=",2);if(1==s.length)t[s[0]]="";else try{t[s[0]]=decodeURIComponent(s[1].replace(/\+/g," "))}catch(e){t[s[0]]=s[1].replace(/\+/g," ")}}return t},m=function(e,t,i){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var s=h(e.search),r=h(i);if(c(s)(r))return!0;if(!(["containing","beginning"].indexOf(e.filter_type)>=0))return!1;for(var n=!0,o=Object.keys(s),a=0;a<o.length;a++){var l=o[a],u=s[o[a]];if(u&&u.length)if(l in r){if(0!=r[l].indexOf(u))return!1}else{if("containing"!=e.filter_type)return!1;var m=!1;if(Object.keys(r).forEach(function(e){e.lastIndexOf(l)>=0&&l==e.substring(e.lastIndexOf(l))&&0==r[e].indexOf(u)&&(m=!0)}),!m)return!1}else{if(l in r)continue;for(var p=Object.keys(r),m=!1,f=0;f<p.length;f++){if(0==p[f].indexOf(l)){m=!0;break}}if(!m)return!1}}}return!0},p=o(i,"parsedUserAgent",!0,!0),f=window.location.toString();f&&(f=f.toLowerCase());var d=window.location.pathname.toString();d&&(d=d.toLowerCase());var g=window.location.hostname+d;g&&(g=g.toLowerCase()),"/"==d[d.length-1]&&(d=d.substring(0,d.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var y=window.location.hash;y&&(y=y.toLowerCase(),"#"!=y[0]&&(y="#"+y));for(var b=h(v),w=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),_=document.cookie.split(";"),x={},S=[],k=0;k<_.length;k++){var T=_[k].substring(0,_[k].indexOf("=")).trim(),C=_[k].substring(_[k].indexOf("=")+1).trim();S.push(T),x[T]=C}var B=document.getElementsByTagName("meta"),E=document.referrer;if(E&&E.length){E=E.toLowerCase();try{var I=t(E);if(I.is("ip")){var L=I.hostname();L&&(L=L.toLowerCase())}else{var L=I.domain();L&&(L=L.toLowerCase())}var P=I.path();P&&(P=P.toLowerCase());var O=I.tld();O&&(O=O.toLowerCase());var U=I.hostname()?I.hostname().toLowerCase()+P:P;"/"==P[P.length-1]&&(P=P.substring(0,P.length-1),U=U.substring(0,U.length-1)),0==U.indexOf("www.")&&(U=U.substring(4));var A=I.search(),j=I.hash()}catch(e){E=!1}}else E=!1;var z=function(t){var i=!1;return e.each(t,function(e,t){var s=!1;if(t.forEach(function(e){var t=!1;if(!s)if("article"==e.filter_type)1==l.length&&(t=!0);else if("smaller"==e.filter_type)(isNaN(parseFloat(e.filter_value))||w<parseFloat(e.filter_value))&&(t=!0);else if("bigger"==e.filter_type)(isNaN(parseFloat(e.filter_value))||w>=parseFloat(e.filter_value))&&(t=!0);else if("views_lt"==e.filter_type)(isNaN(e.pageviews)||n<e.pageviews)&&(t=!0);else if("views_eq"==e.filter_type)(isNaN(e.pageviews)||n==e.pageviews)&&(t=!0);else if("views_gt"==e.filter_type)(isNaN(e.pageviews)||n>e.pageviews)&&(t=!0);else if("countryis"==e.filter_type)r==e.filter_value.toLowerCase()&&(t=!0);else if("countryisnot"==e.filter_type)r&&r==e.filter_value.toLowerCase()||(t=!0);else if("c_exists"==e.filter_type)S.indexOf(e.filter_value)>=0&&(t=!0);else if("c_dne"==e.filter_type)S.indexOf(e.filter_value)<0&&(t=!0);else if("c_equals"==e.filter_type)S.indexOf(e.filter_value)>=0&&x[e.filter_value]==e.param_value&&(t=!0);else if("c_notequals"==e.filter_type)(S.indexOf(e.filter_value)<0||x[e.filter_value]!=e.param_value)&&(t=!0);else if("c_contains"==e.filter_type)S.indexOf(e.filter_value)>=0&&x[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("c_notcontains"==e.filter_type)(S.indexOf(e.filter_value)<0||x[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("mt_equals"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value.toLowerCase()&&(t=!0)}else if("mt_notequals"===e.filter_type){for(var a=!1,i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value.toLowerCase()&&(a=!0)}t=!a}else if("mt_contains"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&-1!==o.toLowerCase().indexOf(e.param_value.toLowerCase())&&(t=!0)}else if("mt_notcontains"===e.filter_type){for(var a=!1,i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&-1!==o.toLowerCase().indexOf(e.param_value.toLowerCase())&&(a=!0)}t=!a}else if("mt_beginning"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase().substring(0,e.param_value.length)===e.param_value.toLowerCase()&&(t=!0)}else if("q_exists"==e.filter_type)b&&b.hasOwnProperty(e.filter_value.toLowerCase())&&(t=!0);else if("q_dne"==e.filter_type)b&&b.hasOwnProperty(e.filter_value)||(t=!0);else if("q_equals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value&&(t=!0);else if("q_notequals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value||(t=!0);else if("q_contains"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("q_notcontains"==e.filter_type)(!b||!b[e.filter_value]||b[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("exact"==e.filter_type){var u=m(e,y,v);u&&(e.full_url?g==e.match_url&&(t=!0):null==e.match_url&&u?t=!0:g!=e.match_url&&d!=e.match_url||(t=!0))}else if("beginning"==e.filter_type){var u=m(e,y,v);u&&(e.full_url?0==g.indexOf(e.match_url.toLowerCase())&&(t=!0):null==e.match_url&&u?t=!0:0!=g.indexOf(e.match_url.toLowerCase())&&0!=d.indexOf(e.match_url.toLowerCase())||(t=!0))}else if("containing"==e.filter_type){var u=m(e,y,v);u&&(e.full_url?g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0):null==e.match_url&&u?t=!0:g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0))}else if(E&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if("r_url_exact"==e.filter_type){var u=m(e,j,A);e.full_url?u&&U==e.match_url.toLowerCase()&&(t=!0):u&&U==e.match_url.toLowerCase()?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_exact"==e.filter_type)e.host?e.host==L&&(t=!0):e.filter_value==L&&(t=!0);else if("r_url_beginning"==e.filter_type){var u=m(e,j,A);e.full_url?u&&0==U.indexOf(e.match_url)&&(t=!0):u&&0==U.indexOf(e.match_url)?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_beginning"==e.filter_type)e.host&&0==L.indexOf(e.host)?t=!0:0==L.indexOf(e.filter_value)&&(t=!0);else if("r_url_containing"==e.filter_type){var u=m(e,j,A);e.full_url?u&&U.indexOf(e.match_url)>=0&&(t=!0):u&&U.indexOf(e.match_url)>=0?t=!0:null==e.match_url&&u&&(t=!0)}else"r_domain_containing"==e.filter_type&&(e.host&&L.indexOf(e.host)>=0?t=!0:L.indexOf(e.filter_value)>=0&&(t=!0));else if("ua_os"==e.filter_type&&p&&p.compareOS){var c=[e.filter_value];"winmobile"==e.filter_value?c=["windows mobile","windows phone"]:"macos"==e.filter_value?c=["mac os"]:"windesktop"==e.filter_value&&(c=["windows"]),c.indexOf(p.compareOS)>=0&&(t=!0)}else if("ua_browser"==e.filter_type&&p&&p.compareBrowser){var c=[e.filter_value];"chrome"==e.filter_value?c=["chrome","chromium"]:"ie"==e.filter_value?c=["ie","ie mobile"]:"opera"==e.filter_value?c=["opera","opera mini","opera mobile","opera tablet"]:"safari"==e.filter_value&&(c=["safari","mobile safari"]),c.indexOf(p.compareBrowser)>=0&&(t=!0)}else if("ua_exact"==e.filter_type)e.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(t=!0);else if("ua_beginning"==e.filter_type)0==navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())&&(t=!0);else if("ua_containing"==e.filter_type)navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())>=0&&(t=!0);else if("hash_exact"==e.filter_type){var h="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;h.toLowerCase()==y.toLowerCase()&&(t=!0)}else if("hash_beginning"==e.filter_type){var h="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;0==y.toLowerCase().indexOf(h.toLowerCase())&&(t=!0)}else if("hash_containing"==e.filter_type){var h="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;y.toLowerCase().indexOf(h.toLowerCase())>=0&&(t=!0)}else"all"==e.filter_type&&(t=!0);t||(s=!0)}),!s)return i=!0,!1}),i},R=o(i,"rule_type","include",!1);if(R&&R.length){var N={},q=0;R.forEach(function(e){e.group_id&&e.group_id.length?N.hasOwnProperty(e.group_id)?N[e.group_id].push(e):N[e.group_id]=[e]:(N[q]=[e],q+=1)}),currentUrlIncluded=z(N)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var M=o(i,"rule_type","exclude",!1),D=!1;if(!M||!M.length)return!0;var F={},q=0;return M.forEach(function(e){e.group_id&&e.group_id.length?F.hasOwnProperty(e.group_id)?F[e.group_id].push(e):F[e.group_id]=[e]:(F[q]=[e],q+=1)}),!(D=z(F))}return!0}});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share",["jquery","URI","color","underscore","vex","plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html","jquery.article","jquery.share","jquery.style","jquery.styleBuffer","jquery.displayrules"],function(e,t,s,r,n,o){function a(e,t){var t=t||1;t=Math.pow(10,t);for(var i=["k","m","b","t"],s=i.length-1;s>=0;s--){var r=Math.pow(10,3*(s+1));if(r<=e){e=Math.round(e*t/r)/t,1e3==e&&s<i.length-1&&(e=1,s++),e+=i[s];break}}return e}var l=function i(){var s=e('meta[property="og:url"]').eq(0).attr("content")||e('link[rel="canonical"]').eq(0).attr("href")||window.location.href.split("#")[0]||null;if(s){var r=t(s);return r.is("absolute")?r.toString():r.absoluteTo(window.location.href.split("#")[0]).toString()}return s};e.fn.unstatic=function(){return e(this).addClass("sumome-article"),"static"==e(this).css("position")&&e(this).css("position","relative"),"content-box"==e(this).css("box-sizing")&&e(this).css("box-sizing","border-box"),this};var u={settings:{},positionSettings:{},customPositions:{},lastScrollTop:0,lastScrollUp:0,initialize:function t(){this.api.on("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/reload",e.proxy(function(){this.load()},this)),this.load()},load:function t(){this.settings={articles:e.articles()},this.settings.articles.length>1&&(this.settings.articles=e([]));var i=[];this.settings.articles.each(function(){this._url&&i.push(this._url)}),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/share/load",data:{site_id:this.api.properties.siteId,href:l(),urls:i,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){e.extend(this.settings,t);var i=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(this.settings.use_mobile_services&&i<=this.settings.mobile_width)var s=this.settings.mobile_services;else var s=this.settings.services;var r={button_padding:this.settings.button_padding,button_style:this.settings.button_style,color:this.settings.color,services:s,services_displayed:this.settings.services_displayed,shares_background:this.settings.shares_background,shares_displayed:this.settings.shares_displayed,size:this.settings.size,offset_x:0,offset_y:0,total_shares_displayed:this.settings.total_shares_displayed};"positions"in this.settings&&this.settings.positions.length&&this.settings.positions.forEach(e.proxy(function(t){switch(t in this.settings.position_settings?this.positionSettings[t]=e.extend({},r,this.settings.position_settings[t]):this.positionSettings[t]=e.extend({},r),this.positionSettings[t].size){case"small":this.positionSettings[t].sizePx=30;break;case"large":this.positionSettings[t].sizePx=70;break;default:this.positionSettings[t].sizePx=50}!this.settings.noSumoBranding&&this.positionSettings[t].services.indexOf("sumome")<0&&this.positionSettings[t].services.push("sumome")},this)),"custom_position_settings"in this.settings&&e(this.settings.custom_position_settings).length&&this.settings.custom_position_settings.forEach(e.proxy(function(t){switch(t.use_settings||e.extend(t,r),t.size){case"small":t.sizePx=30;break;case"large":t.sizePx=70;break;default:t.sizePx=50}this.customPositions[t.position_id]=t},this)),this.settings.ctry=!(!this.api.properties.geoLocation||!this.api.properties.geoLocation.ctry)&&this.api.properties.geoLocation.ctry,this.settings.views=this.api.properties.views?this.api.properties.views:1,this.settings.reflink="https://sumo.com/?src=sm-sh-"+this.api.properties.siteId+"&utm_source=sumo-powered-by&utm_medium=share&utm_campaign="+this.api.properties.siteId,e.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)||(this.settings.positions=[]),this.install(),this.fetch()}},u))},position:function t(){var i=this;e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").each(function(){var t=e(window).height(),s=e(this).outerHeight(),r=Math.max(Math.floor(t-s)/2,0),n=e(this).hasClass("sumome-share-client-wrapper-left-page")?"lp":"rp";n in i.settings.position_settings&&("offset_x"in i.settings.position_settings[n]&&0!=i.settings.position_settings[n].offset_x&&("lp"==n?e(this).css("left",i.settings.position_settings[n].offset_x+"px"):e(this).css("right",0-i.settings.position_settings[n].offset_x+"px")),"offset_y"in i.settings.position_settings[n]&&0!=i.settings.position_settings[n].offset_y&&(r+=i.settings.position_settings[n].offset_y)),e(this).css("top",r+"px")}),e(".sumome-share-client-desktop-bottom-bar, .sumome-share-client-mobile-top-bar, .sumome-share-client-mobile-bottom-bar").each(function(){var t=e(this).data("sumome-share-pos"),s=i.positionSettings[t].sizePx,r=e(this).children();r.show();for(var n=document.documentElement.clientWidth||document.body.clientWidth||e(window).width(),o=Math.max(s,n/r.length),a=Math.floor(n/o),l=r.length-a,u=0,c=0;u<l&&c<r.length;){"sumome"!=r.eq(r.length-1-c).data("sumome-share")&&(r.eq(r.length-1-c).hide(),u++),c++}var h=r.length-u,m=!1,p=0,t=e(this).data("sumome-share-pos");t in i.settings.position_settings&&"button_padding"in i.settings.position_settings[t]?("button_style"in i.settings.position_settings[t]&&"circle"==i.settings.position_settings[t].button_style&&(m=!0),p=i.settings.position_settings[t].button_padding):"button_padding"in i.settings&&("button_style"in i.settings&&"circle"==i.settings.button_style&&(m=!0),p=i.settings.button_padding),m?(o=s,r.css({marginRight:(n-o*h)/(h-1)+"px"})):(p&&(n-=(h-1)*p),o=n/h),r.css({width:o+"px"}),r.eq(h-1).css("marginRight",0)}),e.each(e(".sumome-share-client-custom"),e.proxy(function t(i,s){var r=e(s),n=null,o=!1,a=0,l=this.positionSettings[e(s).data("sumome-share-pos")];if(r.hasClass("sumome-share-client-horizontal")&&l.button_padding>0){var u=r.children();if(e.each(u,e.proxy(function t(i,s){n!==e(s).offset().top&&(a=i,o||(o=!0)),n=e(s).offset().top},this)),o){e(u).css("verticalAlign","top");for(var c=0;c<a;c++)e(u[c]).css("marginBottom",l.button_padding)}}},this))},updateTotals:function t(i){this.settings.share+=i;var s=this.settings.share,r=e(".sumome-share-client-share[data-sumome-share=share]");s>=this.settings.shares_minimum?r.html("<span><strong>"+a(s)+"</strong><br>"+this.settings.shares_label+"</span>"):r.html("<span>"+this.settings.shares_label+"</span>");var n=e(".sumome-share-client-open-mobile");n.find("span").remove(),s>=this.settings.shares_minimum&&n.append("<span>"+a(s)+"</span>"),s>=this.settings.shares_minimum?e("[data-sumome-share-count=share]").text(a(s)):e("[data-sumome-share-count=share]").text(""),this.alignShareLabels()},fetch:function t(i){var i=i||null,s=null!==i;if(null===i){i=[];for(var r in e.shareServices)"background"in e.shareServices[r]&&"name"in e.shareServices[r]&&"fetch"in e.shareServices[r]&&i.push(r)}i.forEach(e.proxy(function(t){if(t in e.shareServices){var i="stumbleupon"===t,r="yummly"===t;if((s||!(t in this.settings)&&(!i||i&&this.settings.fetch_stumbleupon)&&(!r||r&&this.settings.fetch_yummly)||this.settings.fetch.indexOf(t)>=0)&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t])if(["facebook","facebooklike"].indexOf(t)>-1&&this.settings.has_facebook_token)try{e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/apps/share/facebook/queue",data:{site_id:this.api.properties.siteId,url:l()},success:e.proxy(function(e){var i=this.updateCount(t,this.settings[t]+1);this.updateTotals(i)},this)})}catch(e){}else e.shareFetch(t,l(),e.proxy(function(i,s,r){if(!i){var n=this.updateCount(t,r);this.updateTotals(n);try{e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/jsonpcallback",data:{site_id:this.api.properties.siteId,href:s,service:t,count:r},success:function e(t){}})}catch(e){}}},this))}},this))},updateCount:function t(i,s){var r=(s||0)-(this.settings[i]||0);return this.settings[i]=s,e(".sumome-share-client-share[data-sumome-share="+i+"]").each(e.proxy(function(t,i){this.positionSettings[e(i).parent().data("sumome-share-pos")].shares_displayed&&s>=0&&s>=this.settings.shares_minimum?(e(i).addClass("sumome-share-client-count"),e(i).find("span").remove(),e(i).append("<span>"+a(s)+"</span>")):(e(i).find("span").remove(),e(i).removeClass("sumome-share-client-count"))},this)),s>=0&&s>=this.settings.shares_minimum?e("[data-sumome-share-count="+i+"]").text(a(s)):e("[data-sumome-share-count="+i+"]").text(""),r},install:function t(){e(window).on("resize.sumome-share",r.debounce(function(e){u.render()},300)),this.render(),setInterval(e.proxy(function(){this.bindCustomShares()},this),500)},remove:function t(){e(".sumome-share-client-wrapper, .sumome-share-client-open-mobile").remove()},popupMobile:function t(i,s){e(".sumome-share-client-close-mobile").trigger("click");var r=e('<div class="sumome-share-mobile-popup" />').appendTo(document.body),n=e('<div class="sumome-share-mobile-close-popup"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),o=e("<ul />").appendTo(r);o.data("sumome-share-target-url",i),o.data("sumome-share-target-text",s),n.appendTo(r),n.click(function(){e(document.body).removeClass("sumome-share-mobile-popup-open"),r.remove()}),e(document.body).addClass("sumome-share-mobile-popup-open"),this.renderPopupServices(o,!1)},popup:function t(i,s){this.$modal=n.open({content:"<h5>Share</h5><ul />",className:"sumome-sharer-popup sumome-sharer-popup-small",overlayClassName:"sumome-sharer-popup-overlay",contentClassName:"sumome-sharer-popup-content",closeClassName:"sumome-sharer-popup-close",overlayClosesOnClick:!0}),this.$modal.find("ul").data("sumome-share-target-url",i),this.$modal.find("ul").data("sumome-share-target-text",s),this.$modal.on("vexResize",e.proxy(function(t,i){var s=Math.max((e(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":s+"px"})},this)),this.$modal.on("vexOpen",e.proxy(function(t,i){this.renderPopupServices(this.$modal.find("ul"),!0),this.$modal.resize(),this.settings.noSumoBranding||e(".sumome-sharer-popup-overlay").append('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by Sumo</a>')},this))},renderPopupServices:function i(r,n){var o=e('<input type="text" />').attr("placeholder","Find a service");o.insertBefore(r),this.settings.noSumoBranding||r.after('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by Sumo</a>'),e.shareSortedKeys.map(e.proxy(function(t){var i=e.shareServices[t];if("background"in i&&"name"in i&&"sumome"!=t){var n=e('<li data-service="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+t+"-"+(this.settings.color?s.whiteOrBlack(this.settings.color):"white")+'-60.png" alt="'+i.name+'">'+i.name+"</li>").data("sumome-share",t);r.append(n),n.find("img").css("background",this.settings.color?this.settings.color:"background"in i?i.background:"#ccc")}},this)),r.on("click","li",e.proxy(function(i){var s=e(i.currentTarget).data("service"),r=e(i.delegateTarget).data("sumome-share-target-url")||l(),n=e(i.delegateTarget).data("sumome-share-target-text");if("share"!=s){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:r}),"twitter"===s&&(e('meta[name="twitter:title"]').length&&void 0===e(i.currentTarget).data("sumome-share-text")&&(n=e('meta[name="twitter:title"]').eq(0).attr("content")),e('meta[name="twitter:url"]').length&&void 0===e(i.currentTarget).data("sumome-share-url")&&(r=e('meta[name="twitter:url"]').eq(0).attr("content")));var o={url:r,text:n,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain,noSumoBranding:this.settings.noSumoBranding};if("services_settings"in this.settings&&this.settings.services_settings&&s in this.settings.services_settings&&e.extend(o,this.settings.services_settings[s]),this.settings.noSumoBranding&&"url"in o&&o.url&&"utm"in this.settings&&this.settings.utm){var a=t(o.url);"utm_source"in this.settings&&this.settings.utm_source&&(a.removeQuery("utm_source"),a.addQuery("utm_source",this.settings.utm_source.replace("{service}",s))),"utm_medium"in this.settings&&this.settings.utm_medium&&(a.removeQuery("utm_medium"),a.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",s))),"utm_name"in this.settings&&this.settings.utm_name&&(a.removeQuery("utm_campaign"),a.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",s))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(a.removeQuery(this.settings.utm_custom_key),a.addQuery(this.settings.utm_custom_key.replace("{service}",s),this.settings.utm_custom_val.replace("{service}",s))),o.url=a.toString()}e.share(s,o,e.proxy(function(e){this.fetch([e])},this))}["fancy","kaboodle","printerfriendly","slashdot"].indexOf(s)>-1&&e(".sumome-vex-close",this.$modal).trigger("click")},this)),o.on("keyup",function(){var t=(e(this).val()+"").trim().toLowerCase(),i=e(this).next("ul");for(var s in e.shareServices){var r=e.shareServices[s];if("background"in r&&"name"in r){var n=r.name.toLowerCase(),o=""==t||n.indexOf(t)>=0;i.find('li[data-service="'+s+'"]').toggle(o)}}}),n&&o.focus()},render:function t(){var i=this.settings.articles,n=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),o=n<=this.settings.mobile_width?"mobile":"desktop";if("current_mode"in this.settings&&o==this.settings.current_mode)return void this.position();if(this.remove(),0!=this.positionSettings.length){this.settings.current_mode=o;var l=50;if("large"==this.settings.size?l=70:"small"==this.settings.size&&(l=30),"mobile"==o){if("positions"in this.settings&&this.settings.positions.indexOf("mbt")>=0&&(e("body").append('<div data-sumome-stylebuffer-top="90" data-sumome-stylebuffertop-offsety="'+this.positionSettings.mbt.offset_y+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"><div data-sumome-share-pos="mbt" class="sumome-share-client sumome-share-client-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"></div></div>'),e("body").styleBufferTop()),
"positions"in this.settings&&this.settings.positions.indexOf("mbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.mbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"><div data-sumome-share-pos="mbb" class="sumome-share-client sumome-share-client-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"></div></div>'),e("body").styleBufferBottom(),this.settings.scroll_view&&(this.$mobileBottomBar=e(".sumome-share-client-wrapper-mobile-bottom-bar"),this.$mobileBottomBar.css("bottom",-1*this.$mobileBottomBar.height()),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-scroll"),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-hidden"),this.lastScrollTop=e(window).scrollTop(),e(window).on("scroll",r.debounce(function(){u.scroll()},1)))),"positions"in this.settings&&this.settings.positions.indexOf("mbl")>=0){var c=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-left'+(this.positionSettings.mbl.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png" alt="Open Share"></div>'),h=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),m=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>'),p=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-left'+(this.settings.list_view?" sumome-share-client-mobile-list":"")+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>');if(e("body").append(c),m.append(p),p.append(h),e("body").append(m),this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&c.append("<span>"+("share"in this.settings?a(this.settings.share):"0")+"</span>"),this.positionSettings.mbl.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var f=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?f.append("<span><strong>"+("share"in this.settings?a(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):f.append("<span>"+this.settings.shares_label+"</span>"),f.css("background","transparent"),f.css("color","#fff");var d=e('<div class="sumome-row"></div>'),g=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');g.append(f),d.append(g),p.append(d)}var v=e('<div class="sumome-row sumome-share-services"></div>');p.append(v);var y=0;this.positionSettings.mbl.services.forEach(e.proxy(function(t){if(y<this.positionSettings.mbl.services_displayed||"sumome"===t){var i=e('<div class="sumome-share-client-animated sumome-share-client-share"'+(this.settings.list_view?"":' data-sumome-share="'+t+'"')+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"===t?"sumomepro":t)+"-"+(this.positionSettings.mbl.color?s.whiteOrBlack(this.positionSettings.mbl.color):"white")+'-60.png" alt="'+("sumome"===t?"More":e.shareServices[t].name)+'"></div>');this.positionSettings.mbl.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(i.addClass("sumome-share-client-count"),i.append("<span>"+(t in this.settings?a(this.settings[t]):"0")+"</span>")),i.css("background",this.positionSettings.mbl.color?this.positionSettings.mbl.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),i.css("color",this.positionSettings.mbl.color?s.whiteOrBlack(this.positionSettings.mbl.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var r=e('<div class="sumome-4 sumome-columns'+(this.settings.list_view?'" data-sumome-share="'+t+'"':' sumome-text-center"')+"></div>");if(r.append(i),this.settings.list_view){var n="name"in e.shareServices[t]?e.shareServices[t].name:t;"SumoMe"==n&&(n="More"),r.append(n)}v.append(r),"sumome"!=t&&y++}},this)),v.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-left").hide(),e(".sumome-share-client-wrapper-mobile-left").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-left").hide(),e(".sumome-share-client-open-mobile-left").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}if("positions"in this.settings&&this.settings.positions.indexOf("mbr")>=0){var c=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-right'+(this.positionSettings.mbr.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png" alt="Open Share"></div>'),h=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),m=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>'),p=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>');if(e("body").append(c),m.append(p),p.append(h),e("body").append(m),this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&c.append("<span>"+("share"in this.settings?a(this.settings.share):"0")+"</span>"),this.positionSettings.mbr.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var f=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?f.append("<span><strong>"+("share"in this.settings?a(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):f.append("<span>"+this.settings.shares_label+"</span>"),f.css("background","transparent"),f.css("color","#fff");var d=e('<div class="sumome-row"></div>'),g=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');g.append(f),d.append(g),p.append(d)}var v=e('<div class="sumome-row"></div>');p.append(v);var y=0;this.positionSettings.mbr.services.forEach(e.proxy(function(t){if(y<this.positionSettings.mbr.services_displayed||"sumome"===t){var i=e('<div class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"===t?"sumomepro":t)+"-"+(this.positionSettings.mbr.color?s.whiteOrBlack(this.positionSettings.mbr.color):"white")+'-60.png" alt="'+(this.settings.noSumoBranding&&"sumome"===t?"More":e.shareServices[t].name)+'"></div>');this.positionSettings.mbr.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(i.addClass("sumome-share-client-count"),i.append("<span>"+(t in this.settings?a(this.settings[t]):"0")+"</span>")),i.css("background",this.positionSettings.mbr.color?this.positionSettings.mbr.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),i.css("color",this.positionSettings.mbr.color?s.whiteOrBlack(this.positionSettings.mbr.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var r=e('<div class="sumome-4 sumome-columns sumome-text-center"></div>');r.append(i),v.append(r),"sumome"!=t&&y++}},this)),v.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-right").hide(),e(".sumome-share-client-wrapper-mobile-right").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-right").hide(),e(".sumome-share-client-open-mobile-right").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}}else{if(e.fn.styleBuffer._update(),"positions"in this.settings&&this.settings.positions.indexOf("la"),"positions"in this.settings&&this.settings.positions.indexOf("ra"),"positions"in this.settings&&this.settings.positions.indexOf("ra")>=0){i.unstatic(),i.styleBuffer("padding","right",20+this.positionSettings.ra.sizePx);var b=this;i.each(function(){var t=parseInt(e(this).css("padding-right").replace("px",""))-(l+10),i=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-sidebar'+(b.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.ra.size+'"></div>'),s=e('<div data-sumome-share-pos="ra" class="sumome-share-client sumome-share-client-right-sidebar-article'+(b.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.ra.size+'"></div>');if(i.append(s),this._header){var r=this._header.position().top,n=this._header.outerHeight();i.css("top",r+n+"px")}i.css("right",t+"px"),e(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("la")>=0){i.unstatic(),i.styleBuffer("padding","left",2+this.positionSettings.la.sizePx);var b=this;i.each(function(){var t=parseInt(e(this).css("padding-left").replace("px",""))-(10+l),i=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-sidebar'+(b.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.la.size+'"></div>'),s=e('<div data-sumome-share-pos="la" class="sumome-share-client sumome-share-client-left-sidebar-article'+(b.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.la.size+'"></div>');if(i.append(s),this._header){var r=this._header.position().top,n=this._header.outerHeight();i.css("top",r+n+"px")}i.css("left",t+"px"),e(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("hra")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(b.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hra.size+'"></div>'),i=e('<div data-sumome-share-pos="hra" class="sumome-share-client sumome-share-client-header-right-article'+(b.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hra.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hca")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(b.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hca.size+'"></div>'),i=e('<div data-sumome-share-pos="hca" class="sumome-share-client sumome-share-client-header-center-article'+(b.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hca.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hla")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(b.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hla.size+'"></div>'),i=e('<div data-sumome-share-pos="hla" class="sumome-share-client sumome-share-client-header-left-article'+(b.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.hla.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tra")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(b.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tra.size+'"></div>'),i=e('<div data-sumome-share-pos="tra" class="sumome-share-client sumome-share-client-top-right-article'+(b.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tra.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tca")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(b.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tca.size+'"></div>'),i=e('<div data-sumome-share-pos="tca" class="sumome-share-client sumome-share-client-top-center-article'+(b.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tca.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tla")>=0){i.unstatic();var b=this;i.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(b.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tla.size+'"></div>'),i=e('<div data-sumome-share-pos="tla" class="sumome-share-client sumome-share-client-top-left-article'+(b.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+b.settings.theme+" sumome-share-client-"+b.positionSettings.tla.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("bra")>=0&&i.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"><div data-sumome-share-pos="bra" class="sumome-share-client sumome-share-client-bottom-right-article'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bca")>=0&&i.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"><div data-sumome-share-pos="bca" class="sumome-share-client sumome-share-client-bottom-center-article'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bla")>=0&&i.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"><div data-sumome-share-pos="bla" class="sumome-share-client sumome-share-client-bottom-left-article'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("lp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"><div data-sumome-share-pos="lp" class="sumome-share-client sumome-share-client-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("rp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"><div data-sumome-share-pos="rp" class="sumome-share-client sumome-share-client-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("dbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.dbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"><div data-sumome-share-pos="dbb" class="sumome-share-client sumome-share-client-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"></div></div>'),e("body").styleBufferBottom()),"positions"in this.settings&&(this.settings.positions.indexOf("lp")>=0||this.settings.positions.indexOf("rp")>=0)){var w=e('<div class="sumome-share-client-show"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").prepend(w);var _=e('<div class="sumome-share-client-hide"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").append(_),e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").hover(function(){e(this).hasClass("sumome-share-client-hidden")||e(this).find(".sumome-share-client-hide").fadeIn("fast")},function(){e(this).find(".sumome-share-client-hide").fadeOut("fast")}),e(".sumome-share-client-hide").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),i=t.hasClass("sumome-share-client-wrapper-left-page");t.data("sumome-share-original-position",t.css(i?"left":"right")),t.animate(i?{left:"-"+l+"px"}:{right:"-"+l+"px"},"fast",function(){e(this).addClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").hide(),e(this).animate(i?{left:"0px"}:{right:"0px"},"fast")})}),e(".sumome-share-client-show").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),i=t.hasClass("sumome-share-client-wrapper-left-page"),s=t.data("sumome-share-original-position");t.animate(i?{left:"-"+l+"px"}:{right:"-"+l+"px"},"fast",function(){e(this).removeClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").show(),e(this).animate(i?{left:s}:{right:s},"fast")})})}}this.addButtons(e(".sumome-share-client"),o),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts(),e(".sumome-share-client-share",e(".sumome-share-client-mobile-right,.sumome-share-client-mobile-left")).on("click",e.proxy(function(e){this.click(e)},this)),this.api.emit("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/rendered")}},addButtons:function t(i,r){i.each(e.proxy(function(t,i){var n=this.positionSettings[e(i).data("sumome-share-pos")],o="share"in this.settings?a(this.settings.share):"0";if(n.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var l=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');n.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?l.append("<span><strong>"+o+"</strong><br>"+this.settings.shares_label+"</span>"):l.append("<span>"+this.settings.shares_label+"</span>"),"mobile"===r?(l.css("background",n.color?n.color:"transparent"),l.css("color",n.color?s.whiteOrBlack(n.color):"black")):(l.css("background","transparent"),l.css("color","#000")),e(i).append(l)}var u=0,c="";e(i).data("sumome-share-url")&&(c+=' data-sumome-share-url="'+e(i).data("sumome-share-url")+'"'),e(i).data("sumome-share-text")&&(c+=' data-sumome-share-text="'+e(i).data("sumome-share-text")+'"'),n.services.forEach(e.proxy(function(t){if((u<n.services_displayed||"sumome"===t)&&"share"!=t){var r=e("<a"+c+' title="'+(this.settings.noSumoBranding&&"sumome"==t?"More":e.shareServices[t].name)+'" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'" href="javascript:void(0);"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"==t?"sumomepro":t)+"-"+(n.color?s.whiteOrBlack(n.color):"white")+'-60.png" alt="'+(this.settings.noSumoBranding&&"sumome"===t?"More":e.shareServices[t].name)+'"></a>');n.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(r.addClass("sumome-share-client-count"),r.append("<span>"+(t in this.settings?a(this.settings[t]):"0")+"</span>")),r.css("background",n.color?n.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),r.css("color",n.color?s.whiteOrBlack(n.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff"),e(i).append(r),"sumome"!=t&&u++}},this)),e(".sumome-share-client-share",e('[data-sumome-share-pos="'+e(i).data("sumome-share-pos")+'"]')).hover(e.proxy(function(){var t=e(this).data("sumome-share");if(t&&t in e.shareServices){var i=s.shadeColor(n.color?n.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc",-10);e(this).css("background",i)}}),e.proxy(function(){var t=e(this).data("sumome-share");t&&t in e.shareServices&&e(this).css("background",n.color?n.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc")})),e(".sumome-share-client-share",i).on("click",e.proxy(function(e){this.click(e)},this))},this))},bindCustomShares:function t(){var i=e("[data-sumome-share]:not(.sumome-share-client-share, [data-sumome-custom])");i.on("click",e.proxy(function(e){this.click(e)},this)).attr("data-sumome-custom",!0),i.length>0&&this.updateCustomCounts();var s=e("[data-sumome-share-id]:empty");if(s.length>0){var r=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),n=r<=this.settings.mobile_width?"mobile":"desktop";e.each(s,e.proxy(function(t,i){var s=e(i).data("sumome-share-id");if(s in this.customPositions){var r=this.customPositions[s];if("mobile"!=n||r.show_mobile){var o=e(i),a="";o.data("sumome-share-url")&&(a+=' data-sumome-share-url="'+o.data("sumome-share-url")+'"'),o.data("sumome-share-text")&&(a+=' data-sumome-share-text="'+o.data("sumome-share-text")+'"'),o.html('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-custom'+(r.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+(r.float?" sumome-share-client-float-"+r.float:"")+" sumome-share-client-"+r.size+'"><div data-sumome-share-pos="'+r.position_id+'" class="sumome-share-client sumome-share-client-custom'+(r.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+r.size+" sumome-share-client-"+r.orientation+'"'+a+"></div></div>"),this.positionSettings[r.position_id]=r}}},this)),this.addButtons(e(".sumome-share-client",s),n),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts()}},updateCustomCounts:function t(){e("[data-sumome-share-count]").each(e.proxy(function(t,i){var s=e(i).data("sumome-share-count");s in this.settings&&parseInt(this.settings[s])>=this.settings.shares_minimum?e(i).text(s in this.settings?a(this.settings[s]):"0"):e(i).text("")},this))},click:function i(s){var r=e(s.currentTarget).data("sumome-share"),n=e(s.currentTarget).data("sumome-share-url")||e(s.currentTarget).closest(".sumome-share-client").data("sumome-share-target-url")||l(),o=e(s.currentTarget).data("sumome-share-text")||e(s.currentTarget).closest(".sumome-share-client").data("sumome-share-target-text");if("sumome"==r)this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:r+"-click",href:n}),"mobile"===this.settings.current_mode?this.popupMobile(n,o):this.popup(n,o);else if("share"!=r){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:r+"-click",href:n}),"twitter"===r&&(e('meta[name="twitter:title"]').length&&void 0===e(s.currentTarget).data("sumome-share-text")&&(o=e('meta[name="twitter:title"]').eq(0).attr("content")),e('meta[name="twitter:url"]').length&&void 0===e(s.currentTarget).data("sumome-share-url")&&(n=e('meta[name="twitter:url"]').eq(0).attr("content")));var a={url:n,text:o,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain,noSumoBranding:this.settings.noSumoBranding};if("services_settings"in this.settings&&this.settings.services_settings&&r in this.settings.services_settings&&e.extend(a,this.settings.services_settings[r]),this.settings.noSumoBranding&&"url"in a&&a.url&&"utm"in this.settings&&this.settings.utm){var u=t(a.url);"utm_source"in this.settings&&this.settings.utm_source&&(u.removeQuery("utm_source"),u.addQuery("utm_source",this.settings.utm_source.replace("{service}",r))),"utm_medium"in this.settings&&this.settings.utm_medium&&(u.removeQuery("utm_medium"),u.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",r))),"utm_name"in this.settings&&this.settings.utm_name&&(u.removeQuery("utm_campaign"),u.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",r))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(u.removeQuery(this.settings.utm_custom_key),u.addQuery(this.settings.utm_custom_key,this.settings.utm_custom_val.replace("{service}",r))),a.url=u.toString()}e.share(r,a,e.proxy(function(e){this.fetch([e])},this))}},applyPositionSettings:function t(){var r=this.settings;if("object"===(void 0===r?"undefined":i(r))&&(Array.isArray(r.positions)&&0!==r.positions.length||"object"===i(this.customPositions))&&"object"===i(r.position_settings)){var n={lp:{suffix:"left-page",layout:"vertical"},rp:{suffix:"right-page",layout:"vertical"},la:{suffix:"left-sidebar-article",layout:"vertical"},ra:{suffix:"right-sidebar-article",layout:"vertical"},hla:{suffix:"header-left-article",layout:"horizontal"},hca:{suffix:"header-center-article",layout:"horizontal"},hra:{suffix:"header-right-article",layout:"horizontal"},tla:{suffix:"top-left-article",layout:"horizontal"},tca:{suffix:"top-center-article",layout:"horizontal"},tra:{suffix:"top-right-article",layout:"horizontal"},bla:{suffix:"bottom-left-article",layout:"horizontal"},bca:{suffix:"bottom-center-article",layout:"horizontal"},bra:{suffix:"bottom-right-article",layout:"horizontal"},dbb:{suffix:"wrapper-desktop-bottom-bar",layout:"horizontal"},mbt:{suffix:"wrapper-mobile-top-bar",layout:"horizontal"},mbb:{suffix:"wrapper-mobile-bottom-bar",layout:"horizontal"},mbl:{suffix:"open-mobile-left",layout:"horizontal"},mbr:{suffix:"open-mobile-right",layout:"horizontal"}};e(this.customPositions).length&&e.each(this.customPositions,e.proxy(function e(t,i){r.positions.push(i.position_id),n[i.position_id]={suffix:!1,layout:i.orientation}},this)),r.positions.forEach(e.proxy(function t(i){if(n.hasOwnProperty(i)){var r=this.positionSettings[i],o=n[i],a;if(o.suffix)a=e(".sumome-share-client-"+o.suffix);else{if(void 0===r)return;a=e('[data-sumome-share-id="'+r.position_id+'"]')}if(a.removeClass("sumome-share-client-circle").removeClass("sumome-share-client-rounded"),r.button_style&&"square"!==r.button_style&&a.addClass("sumome-share-client-"+r.button_style),r.button_padding&&r.button_padding>0&&e(".sumome-share-client-share",a).css("margin"+("vertical"==o.layout?"Bottom":"Right"),r.button_padding+"px"),r.shares_background)if(["mbl","mbr"].indexOf(i)>-1){var l=s.whiteOrBlack(r.shares_background);a.css({backgroundColor:s.hexToRGBA(r.shares_background,.8)}).find("span").css({color:l}),
"white"===l&&a.find("img").attr("src",this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-white-60.png")}else{if(r.shares_background)var u={backgroundColor:r.shares_background,color:s.whiteOrBlack(r.shares_background)};else var u={backgroundColor:"transparent",color:"#000"};e(".sumome-share-client-share-share",a).css(u)}if(["la","ra"].indexOf(i)>-1&&(a=a.closest(".sumome-share-client-wrapper")),!(["lp","rp"].indexOf(i)<0))if(["mbt","mbb","mbl","mbr"].indexOf(i)>-1){if(r.offset_x&&0!==r.offset_x){var c="left",h=r.offset_x;"mbr"==i&&(c="right",h=0-h),a.css(c,h+"px")}["mbt","mbb"].indexOf(i)<0&&r.offset_y&&0!==r.offset_y&&a.css("bottom",0-r.offset_y+"px")}else{var m="marginTop",c="marginLeft",h=0;r.position_id&&(a=e(".sumome-share-client-wrapper-custom",a)),r.offset_x&&0!==r.offset_x&&("la"===i?c="left":"ra"===i?c="right":["tra","hra","bra"].indexOf(i)>-1&&(c="marginRight"),h=["ra","tra","hra","bra"].indexOf(i)>-1?0-r.offset_x:r.offset_x,a.css(c,h+"px")),r.offset_y&&0!==r.offset_y&&(["la","ra"].indexOf(i)>-1&&(m="top"),a.css(m,r.offset_y+"px"))}}},this))}},alignShareLabels:function t(){e.each(e(".sumome-share-client-share-share"),function(){var t=e(this).outerHeight(),i=e(this).find("span").css("bottom","auto"),s=e(i).outerHeight();e(i).css("top",(t-s)/2+"px")})},scroll:function t(){if(null!=this.$mobileBottomBar){var i=e(window).scrollTop(),s="sumome-share-client-wrapper-mobile-bottom-bar-hidden",r=!this.$mobileBottomBar.hasClass(s),n=this.$mobileBottomBar.height()||16;i>this.lastScrollTop?(this.lastScrollUp=0,r||(this.$mobileBottomBar.css("bottom",""),this.$mobileBottomBar.removeClass(s))):i<this.lastScrollTop&&(this.lastScrollUp+=this.lastScrollTop-i,(r&&this.lastScrollUp>=n/2||0==i)&&(this.$mobileBottomBar.css("bottom",-1*n),this.$mobileBottomBar.addClass(s))),this.lastScrollTop=i}}};return u}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",["jquery","9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share"],function(e,t){return function(e){return{init:function i(s,r){sumo.require(["plugins/css!../css/sumome-share-client.css"],function(){t.api=e,t.initialize(),r()})},destroy:function e(t){t()}}}}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",function(){})}(void 0,void 0);